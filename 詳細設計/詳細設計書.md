# ã‚·ãƒ³ãƒ—ãƒ«é›‘è²¨ã‚ªãƒ³ãƒ©ã‚¤ãƒ³è©³ç´°è¨­è¨ˆæ›¸ï¼ˆå¿…é ˆæ©Ÿèƒ½ã®ã¿ï¼‰

â€»æœ¬ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€åŸºæœ¬è¨­è¨ˆã®ä¸­ã‹ã‚‰å¿…é ˆæ©Ÿèƒ½ï¼ˆå•†å“é–²è¦§ã€ã‚«ãƒ¼ãƒˆæ“ä½œã€éä¼šå“¡ã¨ã—ã¦ã®æ³¨æ–‡ç¢ºå®šï¼‰ã®å®Ÿè£…ã«çµã£ãŸæ§‹æˆã¨ã—ã¦ã„ã¾ã™ã€‚

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ | 1.0                                   |
| :------------------- | :------------------------------------ |
| ä½œæˆæ—¥               | 2025å¹´4æœˆ6æ—¥                          |
| ä½œæˆãƒãƒ¼ãƒ            | Jobs                        |
| æ›´æ–°å±¥æ­´             | 2025/04/06: Ver.1.0 åˆç‰ˆä½œæˆ (Jobs) |

## 1. ã¯ã˜ã‚ã«

### 1.1. æœ¬æ›¸ã®ç›®çš„

æœ¬æ›¸ã¯ã€ã€Œã‚·ãƒ³ãƒ—ãƒ«é›‘è²¨ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã€æ–°è¦æ§‹ç¯‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã‘ã‚‹è©³ç´°è¨­è¨ˆã®å†…å®¹ã‚’å®šç¾©ã™ã‚‹ã‚‚ã®ã§ã‚ã‚‹ã€‚åŸºæœ¬è¨­è¨ˆæ›¸ Ver.1.0 ã§å®šç¾©ã•ã‚ŒãŸå†…å®¹ã«åŸºã¥ãã€å®Ÿè£…æ‹…å½“è€…ãŒãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ä½œæ¥­ã‚’è¿·ã„ãªãé€²ã‚ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã€ã‚·ã‚¹ãƒ†ãƒ ã®å†…éƒ¨æ§‹é€ ã€å‡¦ç†ãƒ•ãƒ­ãƒ¼ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ ã€ç”»é¢é …ç›®ãªã©ã‚’å…·ä½“çš„ã«è¨˜è¿°ã™ã‚‹ã€‚

### 1.2. å‰æã¨ãªã‚‹åŸºæœ¬è¨­è¨ˆæ›¸

æœ¬æ›¸ã¯ã€ä»¥ä¸‹ã®åŸºæœ¬è¨­è¨ˆæ›¸ã®å†…å®¹ã‚’å‰æã¨ã™ã‚‹ã€‚

   ECã‚µã‚¤ãƒˆã‚·ã‚¹ãƒ†ãƒ  åŸºæœ¬è¨­è¨ˆæ›¸

### 1.3. å¯¾è±¡èª­è€…

æœ¬æ›¸ã¯ã€ä»¥ä¸‹ã®æ‹…å½“è€…ã‚’å¯¾è±¡ã¨ã™ã‚‹ã€‚

- æœ¬ã‚·ã‚¹ãƒ†ãƒ ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºæ‹…å½“è€…
- æœ¬ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºæ‹…å½“è€…
- æœ¬ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ†ã‚¹ãƒˆæ‹…å½“è€…
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†è€…

### 1.4. å‚è€ƒæ–‡çŒ®

- ECã‚µã‚¤ãƒˆã‚·ã‚¹ãƒ†ãƒ  åŸºæœ¬è¨­è¨ˆæ›¸
- (ãƒãƒ¼ãƒ å†…ã§ä½¿ç”¨ã™ã‚‹ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ãªã©ãŒã‚ã‚Œã°è¨˜è¼‰)

## 2. ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### 2.1. ã‚·ã‚¹ãƒ†ãƒ ã®ç›®çš„

- ã‚ªãƒ³ãƒ©ã‚¤ãƒ³è²©å£²ãƒãƒ£ãƒãƒ«ã®ç¢ºç«‹
- å•†å“é­…åŠ›ã®è¨´æ±‚
- é¡§å®¢åˆ©ä¾¿æ€§ã®å‘ä¸Š
- æ¥­å‹™åŠ¹ç‡åŒ–

ï¼Šè©³ç´°ã¯ã€è¦ä»¶å®šç¾©æ›¸å‚ç…§

### 2.2. å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼

| åŒºåˆ†   | å½¹å‰² | åˆ©ç”¨å†…å®¹ |
|--------|------|-----------|
| é¡§å®¢   | å•†å“è³¼å…¥è€… | å•†å“é–²è¦§ã€ã‚«ãƒ¼ãƒˆæ“ä½œã€æ³¨æ–‡æ‰‹ç¶šã |
| ç®¡ç†è€… | ã€‡ã€‡ç¤¾æ‹…å½“è€… | å•†å“ç®¡ç†ã€æ³¨æ–‡ç¢ºèªã€ç™ºé€æº–å‚™ãªã© |

### 2.3. ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

<div class="mermaid">
graph LR
    é¡§å®¢ç«¯æœ«[é¡§å®¢PC/ã‚¹ãƒãƒ›<br>ï¼ˆChrome/Safariãªã©ï¼‰] -- HTTPS --> ECã‚µãƒ¼ãƒ[ECã‚µã‚¤ãƒˆ Webã‚µãƒ¼ãƒ]
    ç®¡ç†ç«¯æœ«[ç®¡ç†è€…PC<br>ï¼ˆç¤¾å†…æ‹…å½“è€…ï¼‰] -- HTTPS --> ECã‚µãƒ¼ãƒ
    ECã‚µãƒ¼ãƒ --> DB[(å•†å“æƒ…å ±DBãƒ»æ³¨æ–‡DB)]
    ECã‚µãƒ¼ãƒ --> ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸[(å•†å“ç”»åƒç­‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸)]
    ECã‚µãƒ¼ãƒ --> ãƒ¡ãƒ¼ãƒ«[(ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã‚µãƒ¼ãƒ)]
    ç®¡ç†ç«¯æœ« --> èªè¨¼ã‚·ã‚¹ãƒ†ãƒ [(Active Directory)] --> ECã‚µãƒ¼ãƒ
 
    style é¡§å®¢ç«¯æœ« fill:#fff8dc,stroke:#333
    style ç®¡ç†ç«¯æœ« fill:#fff8dc,stroke:#333
    style ECã‚µãƒ¼ãƒ fill:#cdeeff,stroke:#333,stroke-width:2px
    style DB fill:#e0ffe0,stroke:#333
    style ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ fill:#f9f,stroke:#333
    style ãƒ¡ãƒ¼ãƒ« fill:#ffe599,stroke:#333
</div>

### 2.4. å¤–éƒ¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ¦‚è¦

- **Active Directory**: ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã®ãŸã‚ã«é€£æºã‚’è¡Œã†å ´åˆãŒã‚ã‚‹ã€‚ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

- **ãƒ¡ãƒ¼ãƒ«é€ä¿¡æ©Ÿèƒ½ï¼ˆSMTPé€£æºï¼‰**ï¼šæ³¨æ–‡å®Œäº†æ™‚ã«ã€é¡§å®¢ã¸è‡ªå‹•ã§ç¢ºèªãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã™ã‚‹


## 3. æ©Ÿèƒ½ä»•æ§˜

### 3.1. æ©Ÿèƒ½ä¸€è¦§

#### é¡§å®¢å‘ã‘æ©Ÿèƒ½

- F101:å•†å“ä¸€è¦§è¡¨ç¤º
- F102:å•†å“è©³ç´°è¡¨ç¤º
- F103:ã‚«ãƒ¼ãƒˆæ“ä½œï¼ˆè¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ï¼‰
- F104:æ³¨æ–‡æƒ…å ±å…¥åŠ›
- F105:æ³¨æ–‡ç¢ºå®šï¼ˆå®Œäº†ç”»é¢ï¼ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ï¼‰

#### ç®¡ç†è€…å‘ã‘æ©Ÿèƒ½

- F201:å•†å“ç™»éŒ²ãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- F202:æ³¨æ–‡ä¸€è¦§ãƒ»è©³ç´°ç¢ºèªãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†
- F203:ç°¡æ˜“åœ¨åº«ç¢ºèª
### 3.2. æ©Ÿèƒ½è©³ç´°

ä¸»è¦æ©Ÿèƒ½ã«ãŠã‘ã‚‹ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‹ã‚‰å§‹ã¾ã‚‹ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIé–“ã®é€£æºã€ãŠã‚ˆã³ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…éƒ¨ã®ã‚¯ãƒ©ã‚¹é–“é€£æºã®æ¦‚è¦ã‚’ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ã§ç¤ºã™ã€‚

ï¼ˆã‚¨ãƒ©ãƒ¼å‡¦ç†ã®è©³ç´°ã¯ä¸€éƒ¨çœç•¥ã—ã¦ã„ã‚‹ã€‚APIã®è©³ç´°ãªä»•æ§˜ã¯ã€Œ5. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä»•æ§˜ (API)ã€ã‚’å‚ç…§ã€‚ï¼‰
#### é¡§å®¢å‘ã‘æ©Ÿèƒ½
#### 3.2.1. å•†å“ä¸€è¦§è¡¨ç¤ºæ©Ÿèƒ½ (F101)

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå•†å“ä¸€è¦§ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸéš›ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼ã§ã‚ã‚‹ã€‚

<div class="mermaid">
sequenceDiagram
    participant User as ãƒ¦ãƒ¼ã‚¶ãƒ¼ (ãƒ–ãƒ©ã‚¦ã‚¶)
    participant FE as ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (JS)
    participant ProductController
    participant ProductService
    participant ProductRepository
    participant DB as ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

    User->>FE: å•†å“ä¸€è¦§ãƒšãƒ¼ã‚¸ã¸ã‚¢ã‚¯ã‚»ã‚¹
    FE->>ProductController: GET /api/products
    ProductController->>ProductService: getAllProducts()
    ProductService->>ProductRepository: findAll()
    ProductRepository->>DB: SELECT * FROM products
    DB-->>ProductRepository: å•†å“ãƒ‡ãƒ¼ã‚¿ãƒªã‚¹ãƒˆ
    ProductRepository-->>ProductService: List<Product>
    ProductService->>ProductService: Productã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‹ã‚‰ProductListItem DTOã¸å¤‰æ›
    ProductService-->>ProductController: List<ProductListItem>
    ProductController-->>FE: å•†å“ãƒªã‚¹ãƒˆ (JSON)
    FE-->>User: å•†å“ä¸€è¦§ç”»é¢ã‚’è¡¨ç¤º
</div>

**è£œè¶³:**

- ã¾ãšã¯å…¨ä»¶å–å¾—ãƒ»è¡¨ç¤ºã‚’ç›®æŒ‡ã™ã€‚ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã¯æœ¬æ¼”ç¿’ã®ç¯„å›²å¤–ã§ã‚ã‚‹ã€‚

#### 3.2.2. å•†å“è©³ç´°è¡¨ç¤ºæ©Ÿèƒ½ (F102)

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå•†å“ä¸€è¦§ã‹ã‚‰ç‰¹å®šã®å•†å“ã‚’é¸æŠã—ã€è©³ç´°ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹éš›ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼ã§ã‚ã‚‹ã€‚

<div class="mermaid">
sequenceDiagram
    participant User as ãƒ¦ãƒ¼ã‚¶ãƒ¼ (ãƒ–ãƒ©ã‚¦ã‚¶)
    participant FE as ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (JS)
    participant ProductController
    participant ProductService
    participant ProductRepository
    participant DB as ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

    User->>FE: å•†å“ä¸€è¦§ç”»é¢ã§ç‰¹å®šã®å•†å“ã‚’ã‚¯ãƒªãƒƒã‚¯ (å•†å“ID)
    FE->>ProductController: GET /api/products/{productId}
    ProductController->>ProductService: getProductById(productId)
    ProductService->>ProductRepository: findById(productId)
    ProductRepository->>DB: SELECT * FROM products WHERE product_id = ?
    DB-->>ProductRepository: å•†å“ãƒ‡ãƒ¼ã‚¿ (è©²å½“å•†å“)
    ProductRepository-->>ProductService: Optional<Product>
    alt å•†å“ãŒå­˜åœ¨ã™ã‚‹å ´åˆ
        ProductService->>ProductService: Productã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‹ã‚‰ProductDetail DTOã¸å¤‰æ›
        ProductService-->>ProductController: ProductDetail
        ProductController-->>FE: å•†å“è©³ç´°ãƒ‡ãƒ¼ã‚¿ (JSON)
        FE-->>User: å•†å“è©³ç´°ç”»é¢ã‚’è¡¨ç¤º
    else å•†å“ãŒå­˜åœ¨ã—ãªã„å ´åˆ
        ProductService-->>ProductController: (ã‚¨ãƒ©ãƒ¼æƒ…å ±)
        ProductController-->>FE: 404 Not Found ãƒ¬ã‚¹ãƒãƒ³ã‚¹
        FE-->>User: å•†å“ãŒè¦‹ã¤ã‹ã‚‰ãªã„æ—¨ã®è¡¨ç¤º
    end
</div>

#### 3.2.3. ã‚«ãƒ¼ãƒˆæ“ä½œï¼ˆè¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ï¼‰æ©Ÿèƒ½ (F103)

**ã‚«ãƒ¼ãƒˆã«è¿½åŠ **
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå•†å“è©³ç´°ãƒšãƒ¼ã‚¸ã§ã€Œã‚«ãƒ¼ãƒˆã«å…¥ã‚Œã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸéš›ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼ã§ã‚ã‚‹ã€‚ã‚«ãƒ¼ãƒˆæƒ…å ±ã¯HTTPã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ç®¡ç†ã™ã‚‹ã€‚

<div class="mermaid">
sequenceDiagram
    participant User as ãƒ¦ãƒ¼ã‚¶ãƒ¼ (ãƒ–ãƒ©ã‚¦ã‚¶)
    participant FE as ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (JS)
    participant CartController
    participant CartService
    participant ProductRepository
    participant HttpSession as HTTPã‚»ãƒƒã‚·ãƒ§ãƒ³

    User->>FE: å•†å“è©³ç´°ç”»é¢ã§ã€Œã‚«ãƒ¼ãƒˆã«å…¥ã‚Œã‚‹ã€ã‚¯ãƒªãƒƒã‚¯ (å•†å“ID, æ•°é‡)
    FE->>CartController: POST /api/cart (ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£: { productId: ..., quantity: ... })
    CartController->>CartService: addItemToCart(productId, quantity, httpSession)
    CartService->>ProductRepository: findById(productId)  // å•†å“å­˜åœ¨ç¢ºèªãƒ»ä¾¡æ ¼å–å¾—
    ProductRepository-->>CartService: Optional<Product>
    alt å•†å“ãŒå­˜åœ¨ã™ã‚‹å ´åˆ
        CartService->>HttpSession: getAttribute("cart") // ç¾åœ¨ã®ã‚«ãƒ¼ãƒˆæƒ…å ±ã‚’ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰å–å¾—
        HttpSession-->>CartService: Cartã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ (å­˜åœ¨ã—ãªã„å ´åˆã¯null)
        CartService->>CartService: ã‚«ãƒ¼ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å•†å“ã‚’è¿½åŠ /æ•°é‡æ›´æ–°
        CartService->>HttpSession: setAttribute("cart", updatedCart) // æ›´æ–°ã—ãŸã‚«ãƒ¼ãƒˆæƒ…å ±ã‚’ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ä¿å­˜
        CartService-->>CartController: æ›´æ–°å¾Œã®ã‚«ãƒ¼ãƒˆæƒ…å ± (Cart DTO)
        CartController-->>FE: ã‚«ãƒ¼ãƒˆè¿½åŠ æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ (JSON: æ›´æ–°å¾Œã®ã‚«ãƒ¼ãƒˆæƒ…å ±)
        FE-->>User: ã‚«ãƒ¼ãƒˆè¿½åŠ å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º / ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³æ›´æ–°
    else å•†å“ãŒå­˜åœ¨ã—ãªã„å ´åˆ
        CartService-->>CartController: (å•†å“ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚¨ãƒ©ãƒ¼æƒ…å ±)
        CartController-->>FE: 404 Not Found ãƒ¬ã‚¹ãƒãƒ³ã‚¹
        FE-->>User: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
    end
</div>

**è£œè¶³:**

- ã‚«ãƒ¼ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ (`Cart`) ã‚„ã‚«ãƒ¼ãƒˆå†…ã‚¢ã‚¤ãƒ†ãƒ  (`CartItem`) ã®ã‚¯ãƒ©ã‚¹è¨­è¨ˆã¯ã€Œ4. ã‚¯ãƒ©ã‚¹è¨­è¨ˆã€ã§å®šç¾©ã™ã‚‹ã€‚
- Spring Bootæ¨™æº–ã®HttpSessionåˆ©ç”¨ã‚’åŸºæœ¬ã¨ã™ã‚‹ã€‚


**ã‚«ãƒ¼ãƒˆã‚’ç·¨é›†ãƒ»å‰Šé™¤**
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚«ãƒ¼ãƒˆã®ä¸­èº«ã‚’ç¢ºèªã€æ•°é‡å¤‰æ›´ã€å‰Šé™¤ã™ã‚‹éš›ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼ã§ã‚ã‚‹ã€‚

**ã‚«ãƒ¼ãƒˆæƒ…å ±å–å¾— (GET /api/cart)**

<div class="mermaid">
sequenceDiagram
    participant User as ãƒ¦ãƒ¼ã‚¶ãƒ¼ (ãƒ–ãƒ©ã‚¦ã‚¶)
    participant FE as ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (JS)
    participant CartController
    participant CartService
    participant HttpSession as HTTPã‚»ãƒƒã‚·ãƒ§ãƒ³

    User->>FE: ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ã‚¯ãƒªãƒƒã‚¯ãªã©ã§ã‚«ãƒ¼ãƒˆç”»é¢ã¸é·ç§»æŒ‡ç¤º
    FE->>CartController: GET /api/cart
    CartController->>CartService: getCart(httpSession)
    CartService->>HttpSession: getAttribute("cart")
    HttpSession-->>CartService: Cartã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ (or nullã€ç©ºã‚«ãƒ¼ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)
    CartService->>CartService: ã‚«ãƒ¼ãƒˆæƒ…å ±ã‹ã‚‰Cart DTOã¸å¤‰æ›
    CartService-->>CartController: Cart DTO (ã‚«ãƒ¼ãƒˆæƒ…å ±)
    CartController-->>FE: ã‚«ãƒ¼ãƒˆæƒ…å ± (JSON)
    FE-->>User: ã‚«ãƒ¼ãƒˆç”»é¢ã‚’è¡¨ç¤º
</div>

**ã‚«ãƒ¼ãƒˆæ•°é‡å¤‰æ›´ (PUT /api/cart/items/{itemId})**

<div class="mermaid">
sequenceDiagram
    participant User as ãƒ¦ãƒ¼ã‚¶ãƒ¼ (ãƒ–ãƒ©ã‚¦ã‚¶)
    participant FE as ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (JS)
    participant CartController
    participant CartService
    participant HttpSession as HTTPã‚»ãƒƒã‚·ãƒ§ãƒ³

    User->>FE: ã‚«ãƒ¼ãƒˆç”»é¢ã§æ•°é‡å¤‰æ›´ (ã‚¢ã‚¤ãƒ†ãƒ ID, æ–°ã—ã„æ•°é‡)
    FE->>CartController: PUT /api/cart/items/{itemId} (ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£: { quantity: ... })
    CartController->>CartService: updateItemQuantity(itemId, quantity, httpSession)
    CartService->>HttpSession: getAttribute("cart")
    HttpSession-->>CartService: Cartã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
    CartService->>CartService: æŒ‡å®šã•ã‚ŒãŸã‚¢ã‚¤ãƒ†ãƒ ã®æ•°é‡ã‚’æ›´æ–°
    CartService->>HttpSession: setAttribute("cart", updatedCart)
    CartService-->>CartController: æ›´æ–°å¾Œã®ã‚«ãƒ¼ãƒˆæƒ…å ± (Cart DTO)
    CartController-->>FE: æ›´æ–°æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ (JSON: æ›´æ–°å¾Œã®ã‚«ãƒ¼ãƒˆæƒ…å ±)
    FE-->>User: ã‚«ãƒ¼ãƒˆç”»é¢ã®è¡¨ç¤ºæ›´æ–°
</div>

**ã‚«ãƒ¼ãƒˆå•†å“å‰Šé™¤ (DELETE /api/cart/items/{itemId})** (ä¸Šè¨˜PUTã¨åŒæ§˜ã®æµã‚Œ)

#### 3.2.4. æ³¨æ–‡ç¢ºå®šï¼ˆå®Œäº†ç”»é¢ï¼ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ï¼‰ (F105)

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ³¨æ–‡ç¢ºèªç”»é¢ã§ã€Œæ³¨æ–‡ã‚’ç¢ºå®šã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸéš›ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼ã§ã‚ã‚‹ã€‚ï¼ˆéä¼šå“¡æ³¨æ–‡ï¼‰

<div class="mermaid">
sequenceDiagram
    participant User as ãƒ¦ãƒ¼ã‚¶ãƒ¼ (ãƒ–ãƒ©ã‚¦ã‚¶)
    participant FE as ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (JS)
    participant OrderController
    participant OrderService
    participant CartService
    participant ProductRepository
    participant OrderRepository
    participant EmailService
    participant HttpSession as HTTPã‚»ãƒƒã‚·ãƒ§ãƒ³
    participant DB as ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

    User->>FE: æ³¨æ–‡ç¢ºèªç”»é¢ã§ã€Œæ³¨æ–‡ã‚’ç¢ºå®šã™ã‚‹ã€ã‚¯ãƒªãƒƒã‚¯
    FE->>OrderController: POST /api/orders (ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£: æ³¨æ–‡è€…æƒ…å ±DTO)
    OrderController->>CartService: getCart(httpSession) // ã‚«ãƒ¼ãƒˆæƒ…å ±ã‚’å–å¾—
    CartService-->>OrderController: Cartã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ

    alt ã‚«ãƒ¼ãƒˆãŒç©ºã§ãªã„å ´åˆ
        OrderController->>OrderService: placeOrder(cart, orderRequestDto)
        OrderService->>OrderService: å…¥åŠ›å€¤ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        OrderService->>ProductRepository: findById(productId) // åœ¨åº«ç¢ºèª (ãƒ­ãƒƒã‚¯ãªã—)
        ProductRepository->>DB: SELECT ...
        DB-->>ProductRepository: å•†å“æƒ…å ±ãƒªã‚¹ãƒˆ
        ProductRepository-->>OrderService: List<Product>
        alt åœ¨åº«ã‚ã‚Š
            OrderService->>ProductRepository: decreaseStock(productId, quantity) // åœ¨åº«æ¸›ç®—
            ProductRepository->>DB: UPDATE products SET stock = stock - ? WHERE product_id = ? AND stock >= ?
            DB-->>ProductRepository: æ›´æ–°çµæœ (ä»¶æ•°)
            ProductRepository-->>OrderService: (æˆåŠŸ/å¤±æ•—)

            OrderService->>OrderService: æ³¨æ–‡æƒ…å ±(Order)ãƒ»æ³¨æ–‡æ˜ç´°(OrderDetail)ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ä½œæˆ
            OrderService->>OrderRepository: save(order) // æ³¨æ–‡æƒ…å ±ä¿å­˜
            OrderRepository->>DB: INSERT INTO orders ..., INSERT INTO order_details ...
            DB-->>OrderRepository: ä¿å­˜çµæœ
            OrderRepository-->>OrderService: ä¿å­˜ã•ã‚ŒãŸOrderã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£

            **OrderService->>EmailService: sendOrderConfirmationEmail(order, customerEmail)**
            **EmailService->>EmailService: ãƒ¡ãƒ¼ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé©ç”¨, ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ**
            **EmailService-->>OrderService: é€ä¿¡çµæœ**

            OrderService->>CartService: clearCart(httpSession) // ã‚«ãƒ¼ãƒˆã‚’ç©ºã«ã™ã‚‹
            CartService->>HttpSession: removeAttribute("cart")
            HttpSession-->>CartService: (å®Œäº†)
            CartService-->>OrderService: (å®Œäº†)

            OrderService->>OrderService: OrderResponse DTOã¸å¤‰æ›
            OrderService-->>OrderController: OrderResponse DTO
            OrderController-->>FE: 201 Created ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (JSON: { orderId: ... })
            FE-->>User: æ³¨æ–‡å®Œäº†ç”»é¢è¡¨ç¤º
        else åœ¨åº«ãªã— or DBã‚¨ãƒ©ãƒ¼
            OrderService->>OrderService: (Rollbackå‡¦ç† - @Transactionalã«ã‚ˆã‚Šè‡ªå‹•)
            OrderService-->>OrderController: ã‚¨ãƒ©ãƒ¼æƒ…å ±
            Controller-->>FE: 4xx or 5xx ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹
            FE-->>User: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
        end
    else ã‚«ãƒ¼ãƒˆãŒç©ºã®å ´åˆ
        OrderController-->>FE: 400 Bad Request ãƒ¬ã‚¹ãƒãƒ³ã‚¹
        FE-->>User: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
    end
</div>

**è£œè¶³:**

- `@Transactional` ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ `OrderService#placeOrder` ãƒ¡ã‚½ãƒƒãƒ‰ã«ä»˜ä¸ã—ã€DBæ“ä½œã®åŸå­æ€§ã‚’ä¿è¨¼ã™ã‚‹ã€‚
- åœ¨åº«æ›´æ–°æ™‚ã®ãƒ­ãƒƒã‚¯å‡¦ç†ã¯æœ¬æ¼”ç¿’ã§ã¯å®Ÿè£…ã—ãªã„ã€‚

#### ç®¡ç†è€…å‘ã‘æ©Ÿèƒ½

#### 3.2.5. å•†å“ç™»éŒ²ãƒ»ç·¨é›†ãƒ»å‰Šé™¤æ©Ÿèƒ½ (F201)

**å•†å“ç™»éŒ²ãƒ•ãƒ­ãƒ¼**
<div class="mermaid">
sequenceDiagram
    participant AdminUser as ç®¡ç†è€… (ãƒ–ãƒ©ã‚¦ã‚¶)
    participant FE as ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (ç®¡ç†ç”»é¢JS)
    participant ProductController
    participant ProductService
    participant ProductRepository
    participant ImageStorage as ç”»åƒã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
    participant DB as ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

    AdminUser->>FE: å•†å“ç®¡ç†ç”»é¢ã§ã€Œæ–°è¦å•†å“ç™»éŒ²ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
    FE->>AdminUser: å•†å“ç™»éŒ²ãƒ»ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤º

    AdminUser->>FE: å¿…è¦é …ç›®å…¥åŠ› (name, description, price, stock, imasgeUrL, categoryId) ã¨ã€Œç™»éŒ²ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
    FE->>ProductController: POST /api/admin/products (ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£: å•†å“æƒ…å ±DTO, ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«)
    ProductController->>ProductService: registerProduct(productDto, imageFile)

    ProductService->>ProductService: å…¥åŠ›å€¤ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ (å¿…é ˆé …ç›®, å‹, ç¯„å›²ãªã©)
    alt ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æˆåŠŸ
        ProductService->>ImageStorage: uploadImage(imageFile) // ç”»åƒã‚’ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
        ImageStorage-->>ProductService: imageUrl (ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸç”»åƒã®URL)

        ProductService->>ProductService: Productã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ä½œæˆ (imageUrlå«ã‚€)
        ProductService->>ProductRepository: save(productEntity) // å•†å“æƒ…å ±ã‚’DBã«ä¿å­˜
        ProductRepository->>DB: INSERT INTO items ...
        DB-->>ProductRepository: ä¿å­˜çµæœ (å•†å“IDãªã©)
        ProductRepository-->>ProductService: ä¿å­˜ã•ã‚ŒãŸProductã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£

        ProductService-->>ProductController: ç™»éŒ²æˆåŠŸ (Product DTO)
        ProductController-->>FE: 201 Created ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (JSON: ç™»éŒ²ã•ã‚ŒãŸå•†å“æƒ…å ±)
        FE-->>AdminUser: ã€Œå•†å“ãŒç™»éŒ²ã•ã‚Œã¾ã—ãŸã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º / å•†å“ç®¡ç†ä¸€è¦§ç”»é¢ã¸é·ç§»
    else ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¤±æ•— or ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¤±æ•— or DBã‚¨ãƒ©ãƒ¼
        ProductService-->>ProductController: ã‚¨ãƒ©ãƒ¼æƒ…å ±
        ProductController-->>FE: 4xx or 5xx ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹
        FE-->>AdminUser: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
    end
</div>

**å•†å“ç·¨é›†ãƒ•ãƒ­ãƒ¼**
<div class="mermaid">
sequenceDiagram
    participant AdminUser as ç®¡ç†è€… (ãƒ–ãƒ©ã‚¦ã‚¶)
    participant FE as ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (ç®¡ç†ç”»é¢JS)
    participant ProductController
    participant ProductService
    participant ProductRepository
    participant ImageStorage as ç”»åƒã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
    participant DB as ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

    AdminUser->>FE: å•†å“ç®¡ç†ä¸€è¦§ç”»é¢ã§ç·¨é›†ã—ãŸã„å•†å“ã‚’é¸æŠ / ã€Œç·¨é›†ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
    FE->>ProductController: GET /api/admin/products/{productId}
    ProductController->>ProductService: getProductById(productId)
    ProductService->>ProductRepository: findById(productId)
    ProductRepository->>DB: SELECT * FROM items WHERE item_id = ?
    DB-->>ProductRepository: å•†å“æƒ…å ±
    ProductRepository-->>ProductService: Productã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
    ProductService-->>ProductController: Product DTO
    ProductController-->>FE: 200 OK ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (JSON: å–å¾—ã—ãŸå•†å“æƒ…å ±)
    FE->>AdminUser: å•†å“ç™»éŒ²ãƒ»ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ã«æ—¢å­˜æƒ…å ±ã‚’è¡¨ç¤º

    AdminUser->>FE: é …ç›®å¤‰æ›´ (ä¾‹: ä¾¡æ ¼, åœ¨åº«æ•°, èª¬æ˜ãªã©) ãŠã‚ˆã³ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ (å¿…è¦ã§ã‚ã‚Œã°æ–°ã—ã„ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«)
    FE->>ProductController: PUT /api/admin/products/{productId} (ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£: æ›´æ–°å•†å“æƒ…å ±DTO, æ–°ã—ã„ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«)
    ProductController->>ProductService: updateProduct(productId, productDto, newImageFile)

    ProductService->>ProductService: å…¥åŠ›å€¤ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
    alt ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æˆåŠŸ
        ProductService->>ProductRepository: findById(productId) // æ›´æ–°å¯¾è±¡ã®å•†å“ã‚’å–å¾—
        ProductRepository->>DB: SELECT ...
        DB-->>ProductRepository: æ—¢å­˜å•†å“æƒ…å ±
        ProductRepository-->>ProductService: ExistingProductEntity

        alt æ–°ã—ã„ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒæä¾›ã•ã‚ŒãŸå ´åˆ
            ProductService->>ImageStorage: deleteImage(oldImageUrl) // å¤ã„ç”»åƒã‚’ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰å‰Šé™¤ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
            ImageStorage-->>ProductService: (å®Œäº†)
            ProductService->>ImageStorage: uploadImage(newImageFile) // æ–°ã—ã„ç”»åƒã‚’ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
            ImageStorage-->>ProductService: newImageUrl
        end

        ProductService->>ProductService: ExistingProductEntityã‚’æ›´æ–° (æ–°ã—ã„å€¤ã¨newImageUrlã§)
        ProductService->>ProductRepository: save(updatedProductEntity) // å•†å“æƒ…å ±ã‚’DBã«ä¿å­˜ (æ›´æ–°)
        ProductRepository->>DB: UPDATE items SET ... WHERE item_id = ?
        DB-->>ProductRepository: æ›´æ–°çµæœ
        ProductRepository-->>ProductService: æ›´æ–°ã•ã‚ŒãŸProductã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£

        ProductService-->>ProductController: æ›´æ–°æˆåŠŸ (Product DTO)
        ProductController-->>FE: 200 OK ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (JSON: æ›´æ–°ã•ã‚ŒãŸå•†å“æƒ…å ±)
        FE-->>AdminUser: ã€Œå•†å“ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º / å•†å“ç®¡ç†ä¸€è¦§ç”»é¢ã¸é·ç§»
    else ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¤±æ•— or ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¤±æ•— or DBã‚¨ãƒ©ãƒ¼
        ProductService-->>ProductController: ã‚¨ãƒ©ãƒ¼æƒ…å ±
        ProductController-->>FE: 4xx or 5xx ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹
        FE-->>AdminUser: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
    end
</div>

**å•†å“å‰Šé™¤ãƒ•ãƒ­ãƒ¼**
<div class="mermaid">
sequenceDiagram
    participant AdminUser as ç®¡ç†è€… (ãƒ–ãƒ©ã‚¦ã‚¶)
    participant FE as ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (ç®¡ç†ç”»é¢JS)
    participant ProductController
    participant ProductService
    participant ProductRepository
    participant ImageStorage as ç”»åƒã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
    participant DB as ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

    AdminUser->>FE: å•†å“ç®¡ç†ä¸€è¦§ç”»é¢ã§å‰Šé™¤ã—ãŸã„å•†å“ã‚’é¸æŠ / ã€Œå‰Šé™¤ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
    FE->>AdminUser: å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º ("æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")
    AdminUser->>FE: ã€Œã¯ã„ã€ã‚’é¸æŠ

    FE->>ProductController: DELETE /api/admin/products/{productId}
    ProductController->>ProductService: deleteProduct(productId)

    ProductService->>ProductRepository: findById(productId) // å‰Šé™¤å¯¾è±¡ã®å•†å“æƒ…å ±å–å¾— (ç”»åƒURLã®ãŸã‚)
    ProductRepository->>DB: SELECT * FROM items WHERE item_id = ?
    DB-->>ProductRepository: Productã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
    ProductRepository-->>ProductService: ProductEntity (å–å¾—ã§ããªã‹ã£ãŸå ´åˆã¯ã‚¨ãƒ©ãƒ¼)

    alt å•†å“ãŒå­˜åœ¨ã™ã‚‹å ´åˆ
        ProductService->>ProductRepository: deleteById(productId) // DBã‹ã‚‰å•†å“æƒ…å ±ã‚’å‰Šé™¤
        ProductRepository->>DB: DELETE FROM items WHERE item_id = ?
        DB-->>ProductRepository: å‰Šé™¤çµæœ

        ProductService->>ImageStorage: deleteImage(imageUrl) // é–¢é€£ã™ã‚‹ç”»åƒã‚’ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰å‰Šé™¤ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
        ImageStorage-->>ProductService: (å®Œäº†)

        ProductService-->>ProductController: å‰Šé™¤æˆåŠŸ
        ProductController-->>FE: 204 No Content (ã¾ãŸã¯ 200 OK) ãƒ¬ã‚¹ãƒãƒ³ã‚¹
        FE-->>AdminUser: ã€Œå•†å“ãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º / å•†å“ç®¡ç†ä¸€è¦§ç”»é¢ã‚’æ›´æ–°
    else å•†å“ãŒå­˜åœ¨ã—ãªã„å ´åˆ or DBã‚¨ãƒ©ãƒ¼
        ProductService-->>ProductController: ã‚¨ãƒ©ãƒ¼æƒ…å ±
        ProductController-->>FE: 404 Not Found or 5xx ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹
        FE-->>AdminUser: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
    end
</div>

#### 3.2.6. æ³¨æ–‡ä¸€è¦§ãƒ»è©³ç´°ç¢ºèªãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†æ©Ÿèƒ½ (F202)
**æ³¨æ–‡ä¸€è¦§ç¢ºèªãƒ•ãƒ­ãƒ¼**
<div class="mermaid">
sequenceDiagram
    participant AdminUser as ç®¡ç†è€… (ãƒ–ãƒ©ã‚¦ã‚¶)
    participant FE as ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (ç®¡ç†ç”»é¢JS)
    participant OrderController
    participant OrderService
    participant OrderRepository
    participant DB as ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

    AdminUser->>FE: ç®¡ç†ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€Œæ³¨æ–‡ç®¡ç†ã€ã‚’é¸æŠ
    FE->>OrderController: GET /api/admin/orders (ã‚ªãƒ—ã‚·ãƒ§ãƒ³: æ¤œç´¢æ¡ä»¶, ãƒšãƒ¼ã‚¸ãƒ³ã‚°æƒ…å ±)
    OrderController->>OrderService: getOrderList(searchCriteria, pagingInfo)

    OrderService->>OrderRepository: findAll(searchCriteria, pagingInfo) // æ³¨æ–‡ä¸€è¦§ã‚’DBã‹ã‚‰å–å¾—
    OrderRepository->>DB: SELECT * FROM orders ... JOIN order_details ... WHERE ... ORDER BY ... LIMIT ... OFFSET ...
    DB-->>OrderRepository: æ³¨æ–‡æƒ…å ±ãƒªã‚¹ãƒˆ
    OrderRepository-->>OrderService: List<Order>
    OrderService->>OrderService: æ³¨æ–‡æƒ…å ±ã‹ã‚‰OrderList DTOã¸å¤‰æ› (è¡¨ç¤ºã«å¿…è¦ãªé …ç›®ã®ã¿)
    OrderService-->>OrderController: OrderList DTO

    OrderController-->>FE: 200 OK ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (JSON: æ³¨æ–‡ä¸€è¦§ãƒ‡ãƒ¼ã‚¿)
    FE-->>AdminUser: æ³¨æ–‡ç®¡ç†ä¸€è¦§ç”»é¢è¡¨ç¤º (æ³¨æ–‡ç•ªå·ã€æ³¨æ–‡æ—¥æ™‚ã€åˆè¨ˆé‡‘é¡ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€é¡§å®¢åãªã©)
</div>

**æ³¨æ–‡è©³ç´°ç¢ºèªãƒ•ãƒ­ãƒ¼**
<div class="mermaid">
sequenceDiagram
    participant AdminUser as ç®¡ç†è€… (ãƒ–ãƒ©ã‚¦ã‚¶)
    participant FE as ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (ç®¡ç†ç”»é¢JS)
    participant OrderController
    participant OrderService
    participant OrderRepository
    participant DB as ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

    AdminUser->>FE: æ³¨æ–‡ç®¡ç†ä¸€è¦§ç”»é¢ã§ã€è©³ç´°ã‚’ç¢ºèªã—ãŸã„æ³¨æ–‡ã‚’é¸æŠ / ã‚¯ãƒªãƒƒã‚¯
    FE->>OrderController: GET /api/admin/orders/{orderId}
    OrderController->>OrderService: getOrderDetails(orderId)

    OrderService->>OrderRepository: findByIdWithDetails(orderId) // æ³¨æ–‡IDã§æ³¨æ–‡è©³ç´°ï¼ˆæ˜ç´°å«ã‚€ï¼‰ã‚’DBã‹ã‚‰å–å¾—
    OrderRepository->>DB: SELECT * FROM orders o JOIN order_details od ON o.order_id = od.order_id WHERE o.order_id = ?
    DB-->>OrderRepository: æ³¨æ–‡è©³ç´°æƒ…å ± (Order & OrderDetail)
    OrderRepository-->>OrderService: Optional<Order>
    
    alt æ³¨æ–‡ãŒå­˜åœ¨ã™ã‚‹å ´åˆ
        OrderService->>OrderService: æ³¨æ–‡æƒ…å ±ã‹ã‚‰OrderDetail DTOã¸å¤‰æ› (è¡¨ç¤ºã«å¿…è¦ãªå…¨ã¦ã®é …ç›®)
        OrderService-->>OrderController: OrderDetail DTO
        OrderController-->>FE: 200 OK ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (JSON: æ³¨æ–‡è©³ç´°ãƒ‡ãƒ¼ã‚¿)
        FE-->>AdminUser: æ³¨æ–‡ç®¡ç†è©³ç´°ç”»é¢è¡¨ç¤º (æ³¨æ–‡è€…æƒ…å ±, é…é€å…ˆ, æ³¨æ–‡å•†å“ãƒªã‚¹ãƒˆ, å„å•†å“è©³ç´°, åˆè¨ˆé‡‘é¡, ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãªã©)
    else æ³¨æ–‡ãŒå­˜åœ¨ã—ãªã„å ´åˆ
        OrderService-->>OrderController: (æ³¨æ–‡ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚¨ãƒ©ãƒ¼æƒ…å ±)
        OrderController-->>FE: 404 Not Found ãƒ¬ã‚¹ãƒãƒ³ã‚¹
        FE-->>AdminUser: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
    end
</div>

**æ³¨æ–‡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèªãƒ•ãƒ­ãƒ¼**
<div class="mermaid">
sequenceDiagram
    participant AdminUser as ç®¡ç†è€… (ãƒ–ãƒ©ã‚¦ã‚¶)
    participant FE as ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (ç®¡ç†ç”»é¢JS)
    participant OrderController
    participant OrderService
    participant OrderRepository
    participant EmailService
    participant DB as ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

    AdminUser->>FE: æ³¨æ–‡ç®¡ç†è©³ç´°ç”»é¢ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³é¸æŠ / ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ (æ³¨æ–‡ID, æ–°ã—ã„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹)
    FE->>OrderController: PUT /api/admin/orders/{orderId}/status (ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£: { status: ... })
    OrderController->>OrderService: updateOrderStatus(orderId, newStatus)

    OrderService->>OrderRepository: findById(orderId) // æ›´æ–°å¯¾è±¡ã®æ³¨æ–‡ã‚’å–å¾—
    OrderRepository->>DB: SELECT * FROM orders WHERE order_id = ?
    DB-->>OrderRepository: æ³¨æ–‡æƒ…å ±
    ProductRepository-->>OrderService: Optional<Order>
    
    alt æ³¨æ–‡ãŒå­˜åœ¨ã—ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ãŒå¯èƒ½
        OrderService->>OrderService: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ (ä¾‹: ç™ºé€æ¸ˆã¿ã‹ã‚‰å—ä»˜ä¸­ã«ã¯æˆ»ã›ãªã„ãªã©)
        OrderService->>OrderRepository: updateStatus(orderId, newStatus) // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°
        OrderRepository->>DB: UPDATE orders SET order_status = ? WHERE order_id = ?
        DB-->>OrderRepository: æ›´æ–°çµæœ
        OrderRepository-->>OrderService: æ›´æ–°ã•ã‚ŒãŸOrderã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£

        alt ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ã«å¿œã˜ã¦é¡§å®¢ã«ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ãŒå¿…è¦ãªå ´åˆ (ä¾‹: ã€Œç™ºé€æ¸ˆã¿ã€ã«ãªã£ãŸæ™‚)
            OrderService->>EmailService: sendStatusUpdateNotification(orderId, newStatus, customerEmail)
            EmailService->>EmailService: ãƒ¡ãƒ¼ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé©ç”¨, ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ
            EmailService-->>OrderService: é€ä¿¡çµæœ
        end

        OrderService-->>OrderController: æ›´æ–°æˆåŠŸ (æ›´æ–°å¾Œã®Order DTO)
        OrderController-->>FE: 200 OK ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (JSON: æ›´æ–°ã•ã‚ŒãŸæ³¨æ–‡æƒ…å ±)
        FE-->>AdminUser: ã€Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º / æ³¨æ–‡è©³ç´°ç”»é¢ã‚’æ›´æ–°
    else æ³¨æ–‡ãŒå­˜åœ¨ã—ãªã„ã€ã¾ãŸã¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ãŒä¸æ­£
        OrderService-->>OrderController: ã‚¨ãƒ©ãƒ¼æƒ…å ±
        Controller-->>FE: 4xx or 5xx ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹
        FE-->>AdminUser: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
    end
</div>
---

## 4. ã‚¯ãƒ©ã‚¹è¨­è¨ˆ

ã“ã“ã§ã¯ã€ã€Œã‚·ãƒ³ãƒ—ãƒ«é›‘è²¨ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆSpring Bootï¼‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¯ãƒ©ã‚¹æ§‹é€ ã«ã¤ã„ã¦å®šç¾©ã™ã‚‹ã€‚ä¸»è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹æˆã€ã‚¯ãƒ©ã‚¹å›³ã€ä¸»è¦ã‚¯ãƒ©ã‚¹ã®èª¬æ˜ã€ãŠã‚ˆã³ãƒ‡ãƒ¼ã‚¿è»¢é€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆDTOï¼‰ã®å®šç¾©ã‚’ç¤ºã™ã€‚

### 4.1. ä¸»è¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹æˆ

ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®æ•´ç†ã¨è¦‹é€šã—ã‚’è‰¯ãã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹æˆã‚’åŸºæœ¬ã¨ã™ã‚‹ã€‚ãƒ«ãƒ¼ãƒˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ `com.example.simplezakka` ï¼ˆä»®ï¼‰ã¨ã™ã‚‹ã€‚

```
com.example.simplezakka
â”œâ”€â”€ SimpleZakkaOnlineApplication.java  // Spring Bootèµ·å‹•ã‚¯ãƒ©ã‚¹
â”‚
â”œâ”€â”€ controller      // HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†ã€APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®šç¾©
â”‚   â”œâ”€â”€ ProductController.java
â”‚   â”œâ”€â”€ CartController.java
â”‚   â””â”€â”€ OrderController.java
â”‚
â”œâ”€â”€ service         // ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…
â”‚   â”œâ”€â”€ ProductService.java
â”‚   â”œâ”€â”€ CartService.java     // ã‚«ãƒ¼ãƒˆ(ã‚»ãƒƒã‚·ãƒ§ãƒ³)æ“ä½œãƒ­ã‚¸ãƒƒã‚¯
â”‚   â””â”€â”€ OrderService.java
â”‚
â”œâ”€â”€ repository      // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ (Spring Data JPA)
â”‚   â”œâ”€â”€ ProductRepository.java
â”‚   â”œâ”€â”€ OrderRepository.java
â”‚   â””â”€â”€ OrderDetailRepository.java
â”‚
â”œâ”€â”€ entity          // DBãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾å¿œã™ã‚‹JPAã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
â”‚   â”œâ”€â”€ Product.java
â”‚   â”œâ”€â”€ Order.java
â”‚   â””â”€â”€ OrderDetail.java
â”‚
â”œâ”€â”€ dto             // Data Transfer Object (APIå…¥å‡ºåŠ›ã€ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ãƒ‡ãƒ¼ã‚¿è»¢é€ç”¨)
â”‚   â”œâ”€â”€ product
â”‚   â”‚   â”œâ”€â”€ ProductListItem.java
â”‚   â”‚   â””â”€â”€ ProductDetail.java
â”‚   â”œâ”€â”€ cart
â”‚   â”‚   â”œâ”€â”€ Cart.java         // ã‚«ãƒ¼ãƒˆå…¨ä½“ã‚’è¡¨ã™DTO (ã‚»ãƒƒã‚·ãƒ§ãƒ³æ ¼ç´ç”¨ã§ã‚‚ã‚ã‚‹)
â”‚   â”‚   â””â”€â”€ CartItem.java     // ã‚«ãƒ¼ãƒˆå†…å•†å“ã‚’è¡¨ã™DTO
â”‚   â”‚   â”œâ”€â”€ CartItemInfo.java
â”‚   â”‚   â””â”€â”€ CartItemQuantityDto.java
â”‚   â””â”€â”€ order
â”‚       â”œâ”€â”€ OrderRequest.java
â”‚       â”œâ”€â”€ CustomerInfo.java // OrderRequestå†…ã§ä½¿ç”¨ (éä¼šå“¡ç”¨)
â”‚       â””â”€â”€ OrderResponse.java
â”‚
â”œâ”€â”€ exception       // ä¾‹å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚   â””â”€â”€ GlobalExceptionHandler.java // åŸºæœ¬çš„ãªä¾‹å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚
â””â”€â”€ config
    â””â”€â”€ DataLoader.java // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‰ç”¨
```

**è£œè¶³:**

- Serviceå±¤ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨å®Ÿè£…ã‚¯ãƒ©ã‚¹ã®åˆ†é›¢ã¯ä¸è¦ã€‚

### 4.2. ã‚¯ãƒ©ã‚¹å›³

ä¸»è¦ãªæ©Ÿèƒ½ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆå•†å“ã€ã‚«ãƒ¼ãƒˆã€æ³¨æ–‡ï¼‰ã«é–¢ã™ã‚‹ã‚¯ãƒ©ã‚¹ã¨ãã®é–¢é€£ã‚’ç¤ºã™ã€‚

#### 4.2.1. å•†å“é–¢é€£ã‚¯ãƒ©ã‚¹å›³

<div class="mermaid">
classDiagram
    class ProductController {
        +ProductService productService
        +getAllProducts() ResponseEntity~List~ProductListItem~~
        +getProductById(productId) ResponseEntity~ProductDetail~
        +getRecommendedProducts() ResponseEntity~List~ProductListItem~~
    }

    class ProductService {
        +ProductRepository productRepository
        +CategoryRepository categoryRepository
        +ReviewRepository reviewRepository
        +findAllProducts() List~ProductListItem~
        +findProductById(productId) ProductDetail
        +findRecommendedProducts() List~ProductListItem~
    }

    class ProductRepository {
        <<Interface>>
        +JpaRepository~Product, Integer~
        +findAll() List~Product~
        +findById(productId) Optional~Product~
        +findByIsRecommendedTrue() List~Product~
    }

    class CategoryRepository {
        <<Interface>>
        +JpaRepository~Category, Integer~
        +findById(categoryId) Optional~Category~
    }

    
    class Product {
        <<Entity>>
        +Integer productId
        +String name
        +String description
        +Integer price
        +Integer stock
        +String imageUrl
        +Boolean isRecommended
        +Integer categoryId
        +LocalDateTime createdAt
        +LocalDateTime updatedAt
    }

    class Category {
        <<Entity>>
        +Integer categoryId
        +String categoryName
    }

    

    class ProductListItem {
        <<DTO>>
        +Integer productId
        +String name
        +Integer price
        +String imageUrl
        +String categoryName
        +Double averageRating
    }

    class ProductDetail {
        <<DTO>>
        +Integer productId
        +String name
        +Integer price
        +String description
        +Integer stock
        +String imageUrl
        +String categoryName
        +Double averageRating
        +List~ReviewItem~ reviews
    }

   
    ProductController --> ProductService : uses
    ProductService --> ProductRepository : uses
    ProductService --> CategoryRepository : uses
    

    ProductRepository "1" -- "*" Product : manages
    CategoryRepository "1" -- "*" Category : manages
    

    Product --> Category : has
   

    ProductService ..> ProductListItem : creates
    ProductService ..> ProductDetail : creates
    

    ProductController ..> ProductListItem : returns
    ProductController ..> ProductDetail : returns
</div>



#### 4.2.2. ã‚«ãƒ¼ãƒˆé–¢é€£ã‚¯ãƒ©ã‚¹å›³ (ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†)

<div class="mermaid">
classDiagram
    class CartController {
        +CartService cartService
        +getCart(userId) ResponseEntity~CartDto~
        +addItem(userId, productId, quantity) ResponseEntity~CartDto~
        +updateItem(userId, productId, quantity) ResponseEntity~CartDto~
        +removeItem(userId, productId) ResponseEntity~CartDto~
        +clearCart(userId) ResponseEntity~void~
    }

    class CartService {
        +CartRepository cartRepository
        +ProductRepository productRepository
        +getCartByUserId(userId) CartDto
        +addItemToCart(userId, productId, quantity)
        +updateItemInCart(userId, productId, quantity)
        +removeItemFromCart(userId, productId)
        +clearCart(userId)
    }

    class CartRepository {
        <<Interface>>
        +JpaRepository~Cart, Integer~
        +findByUserId(userId) Optional~Cart~
    }

    class ProductRepository {
        <<Interface>>
        +JpaRepository~Product, Integer~
        +findById(productId) Optional~Product~
    }

    class Cart {
        <<Entity>>
        +Integer cartId
        +Integer userId
        +LocalDateTime createdAt
        +LocalDateTime updatedAt
    }

    class CartItem {
        <<Entity>>
        +Integer cartItemId
        +Integer cartId
        +Integer productId
        +Integer quantity
        +LocalDateTime addedAt
    }

    class Product {
        <<Entity>>
        +Integer productId
        +String name
        +Integer price
        +String imageUrl
    }

    class CartDto {
        <<DTO>>
        +Integer userId
        +List~CartItemDto~ items
        +Integer totalAmount
    }

    class CartItemDto {
        <<DTO>>
        +Integer productId
        +String name
        +String imageUrl
        +Integer price
        +Integer quantity
        +Integer subtotal
    }
    CartController --> CartService : uses
    CartService --> CartRepository : uses
    CartService --> ProductRepository : uses

    Cart "1" -- "*" CartItem : contains
    CartItem --> Product : refersTo

    CartService ..> CartDto : creates
    CartService ..> CartItemDto : creates
    CartController ..> CartDto : returns
</div>


#### 4.2.3. æ³¨æ–‡é–¢é€£ã‚¯ãƒ©ã‚¹å›³ (éä¼šå“¡æ³¨æ–‡)
<div class="mermaid">
classDiagram
    class OrderController {
        +OrderService orderService
        +placeOrder(userId) ResponseEntity~OrderResultDto~
        +getOrderHistory(userId) ResponseEntity~List~OrderSummaryDto~~
        +getOrderById(orderId) ResponseEntity~OrderDetailDto~
    }

    class OrderService {
        +OrderRepository orderRepository
        +OrderItemRepository orderItemRepository
        +CartRepository cartRepository
        +ProductRepository productRepository
        +placeOrder(userId) OrderResultDto
        +getOrderHistory(userId) List~OrderSummaryDto~
        +getOrderDetail(orderId) OrderDetailDto
    }

    class OrderRepository {
        <<Interface>>
        +JpaRepository~Order, Integer~
        +findByUserId(userId) List~Order~
        +findById(orderId) Optional~Order~
    }

    class OrderItemRepository {
        <<Interface>>
        +JpaRepository~OrderItem, Integer~
        +findByOrderId(orderId) List~OrderItem~
    }

    class Order {
        <<Entity>>
        +Integer orderId
        +Integer userId
        +Integer totalAmount
        +String status
        +LocalDateTime orderedAt
    }

    class OrderItem {
        <<Entity>>
        +Integer orderItemId
        +Integer orderId
        +Integer productId
        +String productName
        +Integer price
        +Integer quantity
    }

    class Product {
        <<Entity>>
        +Integer productId
        +String name
        +Integer price
        +String imageUrl
    }

    class OrderResultDto {
        <<DTO>>
        +Integer orderId
        +Integer totalAmount
        +String status
        +LocalDateTime orderedAt
    }

    class OrderSummaryDto {
        <<DTO>>
        +Integer orderId
        +Integer totalAmount
        +String status
        +LocalDateTime orderedAt
    }

    class OrderDetailDto {
        <<DTO>>
        +Integer orderId
        +String status
        +LocalDateTime orderedAt
        +Integer totalAmount
        +List~OrderItemDto~ items
    }

    class OrderItemDto {
        <<DTO>>
        +Integer productId
        +String productName
        +Integer price
        +Integer quantity
        +Integer subtotal
    }

    OrderController --> OrderService : uses
    OrderService --> OrderRepository : uses
    OrderService --> OrderItemRepository : uses
    OrderService --> CartRepository : uses
    OrderService --> ProductRepository : uses

    Order "1" -- "*" OrderItem : contains
    OrderItem --> Product : refersTo

    OrderService ..> OrderResultDto : creates
    OrderService ..> OrderSummaryDto : creates
    OrderService ..> OrderDetailDto : creates
    OrderService ..> OrderItemDto : creates

    OrderController ..> OrderResultDto : returns
    OrderController ..> OrderSummaryDto : returns
    OrderController ..> OrderDetailDto : returns
 </div>


### 4.3. ä¸»è¦ã‚¯ãƒ©ã‚¹èª¬æ˜

å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¯ãƒ©ã‚¹ã®å½¹å‰²ã¨ã€ã‚·ãƒ³ãƒ—ãƒ«é›‘è²¨ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã«ãŠã‘ã‚‹ä»£è¡¨çš„ãªã‚¯ãƒ©ã‚¹åã¯ä»¥ä¸‹ã®é€šã‚Šã§ã‚ã‚‹ã€‚

- **Controller (`@RestController`)**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ã®HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ä»˜ã‘ã€Serviceã‚’å‘¼ã³å‡ºã—ã€çµæœã‚’JSONå½¢å¼ã§è¿”ã™è²¬å‹™ã‚’æŒã¤ã€‚URLãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®å—ã‘å–ã‚Šã¨åŸºæœ¬çš„ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ç”Ÿæˆã‚’æ‹…å½“ã™ã‚‹ã€‚
    - ä¾‹: `ProductController`, `CartController`, `OrderController`
- **Service (`@Service`)**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹è²¬å‹™ã‚’æŒã¤ã€‚Controllerã‹ã‚‰ä¾é ¼ã‚’å—ã‘ã€å¿…è¦ã«å¿œã˜ã¦è¤‡æ•°ã®Repositoryã‚’æ“ä½œã—ã€çµæœã‚’Controllerã«è¿”ã™ã€‚åŸºæœ¬çš„ãªãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†ã‚‚ä¸»ã«ã“ã®å±¤ã§è¡Œã†ã€‚
    - ä¾‹: `ProductService`, `CartService`, `OrderService`
- **Repository (`@Repository`)**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆåŸºæœ¬çš„ãªCRUDæ“ä½œï¼‰ã‚’æ‹…å½“ã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã‚ã‚‹ã€‚Spring Data JPAã‚’åˆ©ç”¨ã—ã€`JpaRepository`ã‚’ç¶™æ‰¿ã™ã‚‹ã“ã¨ã§åŸºæœ¬çš„ãªDBæ“ä½œãƒ¡ã‚½ãƒƒãƒ‰ãŒæä¾›ã•ã‚Œã‚‹ã€‚è¤‡é›‘ãªã‚¯ã‚¨ãƒªã®åˆ©ç”¨ã¯æœ€å°é™ã«ç•™ã‚ã‚‹ã€‚
    - ä¾‹: `ProductRepository`, `OrderRepository`, `OrderItemRepository`
- **Entity (`@Entity`)**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã‚‹Javaã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹ã€‚ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚«ãƒ©ãƒ ã«å¯¾å¿œã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒã¡ã€JPAã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒä»˜ä¸ã•ã‚Œã‚‹ã€‚
    - ä¾‹: `Product`, `Order`, `OrderItem`
- **DTO (Data Transfer Object)**: ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ï¼ˆç‰¹ã«Controllerã¨Serviceã€APIã®å¢ƒç•Œï¼‰ã§ãƒ‡ãƒ¼ã‚¿ã‚’è»¢é€ã™ã‚‹ãŸã‚ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹ã€‚APIã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã®å®šç¾©ã«ã‚‚ä½¿ç”¨ã•ã‚Œã‚‹ã€‚
    - ä¾‹:`Cart`, `CartItem`, `OrderResult`


### 4.4. DTOå®šç¾©

ä¸»è¦ãªAPIã‚„æ©Ÿèƒ½ã§ä½¿ç”¨ã•ã‚Œã‚‹DTOã®æ§‹é€ ã‚’ç¤ºã™ã€‚ (ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã¯ç°¡ç•¥åŒ–)

**å•†å“é–¢é€£ DTO**

```java
// å•†å“ä¸€è¦§ç”¨
public class ProductListItem {
    private Integer productId;
    private String name;
    private Integer price;
    private String imageUrl;
    // getters, constructor
}

// å•†å“è©³ç´°ç”¨
public class ProductDetail {
    private Integer productId;
    private String name;
    private Integer price;
    private String description;
    private Integer stock;
    private String imageUrl;
    // getters, constructor
}
```

**ã‚«ãƒ¼ãƒˆé–¢é€£ DTO**

```java
// ã‚«ãƒ¼ãƒˆå…¨ä½“ (ã‚»ãƒƒã‚·ãƒ§ãƒ³æ ¼ç´/APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”¨)
public class Cart {
    private Map<String, CartItem> items = new LinkedHashMap<>();
    private int totalQuantity;
    private int totalPrice;
    // ãƒ¡ã‚½ãƒƒãƒ‰: addItem, updateQuantity, removeItem, calculateTotals ãªã©
    // getters
}

// ã‚«ãƒ¼ãƒˆå†…å•†å“ (ã‚»ãƒƒã‚·ãƒ§ãƒ³æ ¼ç´/APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”¨)
public class CartItem {
    private String id;
    private Integer productId;
    private String name;
    private Integer price;
    private String imageUrl;
    private int quantity;
    private int subtotal;
    // getters, setters, constructor
}

// ã‚«ãƒ¼ãƒˆè¿½åŠ APIãƒªã‚¯ã‚¨ã‚¹ãƒˆç”¨
public class CartItemInfo {
    @NotNull
    private Integer productId;
    @NotNull @Min(1)
    private Integer quantity;
    // getters, setters
}

// ã‚«ãƒ¼ãƒˆæ•°é‡æ›´æ–°APIãƒªã‚¯ã‚¨ã‚¹ãƒˆç”¨
public class CartItemQuantityDto {
    @NotNull @Min(1)
    private Integer quantity;
    // getters, setters
}
```

**æ³¨æ–‡é–¢é€£ DTO**

```java
// æ³¨æ–‡APIãƒªã‚¯ã‚¨ã‚¹ãƒˆç”¨
public class OrderRequest {
    @Valid // ãƒã‚¹ãƒˆã—ãŸDTOã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ‰åŠ¹åŒ–
    @NotNull
    private CustomerInfo customerInfo;
    // getters, setters
}

// æ³¨æ–‡APIãƒªã‚¯ã‚¨ã‚¹ãƒˆå†…ã®é¡§å®¢æƒ…å ±ç”¨ (éä¼šå“¡ç”¨)
public class CustomerInfo {
    @NotBlank
    private String name;
    @NotBlank @Email
    private String email;
    @NotBlank
    private String address;
    @NotBlank
    private String phoneNumber;
    // getters, setters
}

// æ³¨æ–‡APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”¨
public class OrderResponse {
    private Integer orderId;
    private LocalDateTime orderDate;
    // getters, constructor
}
```

**è£œè¶³:**

- ä¸Šè¨˜DTOã«ã¯ã€åŸºæœ¬çš„ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ (`@NotNull`, `@NotBlank`, `@Email`, `@Min`, `@Valid`) ã‚’ä»˜ä¸ã—ã¦ã„ã‚‹ã€‚Controllerå±¤ã§ã®å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã«ä½¿ç”¨ã•ã‚Œã‚‹ã€‚
- ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚„Getter/Setterã¯è¨˜è¿°ã‚’çœç•¥ã—ã¦ã„ã‚‹ãŒã€å®Ÿéš›ã«ã¯å¿…è¦ï¼ˆLombokãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä½¿ç”¨ã‚‚å¯ï¼‰ã€‚
# 5. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä»•æ§˜

## 5.1 APIä¸€è¦§
### 5.1.1 ğŸ‘¥ é¡§å®¢å‘ã‘æ©Ÿèƒ½
| æ©Ÿèƒ½            | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURL                  |
| ------------- | -------- | --------------------------- |
| å•†å“ä¸€è¦§è¡¨ç¤ºï¼ˆF101ï¼‰        | `GET`    | `/api/products`             |
| å•†å“è©³ç´°è¡¨ç¤º(F102)        | `GET`    | `/api/products/{productId}` |
| ã‚«ãƒ¼ãƒˆè¿½åŠ (F103-01)         | `POST`   | `/api/cart`                 |
| ã‚«ãƒ¼ãƒˆç·¨é›†ï¼ˆF103-02ï¼‰ | `PUT`    | `/api/cart/{itemId}`        |
| ã‚«ãƒ¼ãƒˆå‰Šé™¤(F103-03)         | `DELETE` | `/api/cart/{itemId}`        |
| æ³¨æ–‡æƒ…å ±å…¥åŠ›ï¼ˆF104ï¼‰   | `POST`   | `/api/orders/confirm`       |
| æ³¨æ–‡ç¢ºå®š(F105)          | `POST`   | `/api/orders/complete`      |

### 5.1.2 ğŸ”§ ç®¡ç†è€…å‘ã‘æ©Ÿèƒ½


| æ©Ÿèƒ½                 | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURL                           |
| ------------------ | -------- | ------------------------------------ |
| å•†å“ç™»éŒ²               | `POST`   | `/api/admin/products`                |
| å•†å“ç·¨é›†               | `PUT`    | `/api/admin/products/{productId}`    |
| å•†å“å‰Šé™¤               | `DELETE` | `/api/admin/products/{productId}`    |
| æ³¨æ–‡ä¸€è¦§å–å¾—             | `GET`    | `/api/admin/orders`                  |
| æ³¨æ–‡è©³ç´°å–å¾—             | `GET`    | `/api/admin/orders/{orderId}`        |
| æ³¨æ–‡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°          | `PUT`    | `/api/admin/orders/{orderId}/status` |
| åœ¨åº«ä¸€è¦§ç¢ºèª             | `GET`    | `/api/admin/stock`                   |
| å‚™å“CSVä¸€æ‹¬ç™»éŒ²          | `POST`   | `/api/admin/products/upload-csv`     |
| åœ¨åº«ä¸è¶³é€šçŸ¥ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ | `POST`   | `/api/admin/stock/notify`            |
| å•†å“ç™»éŒ²ï¼ˆF201-01ï¼‰               | `POST`   | `/api/admin/products`                |
| å•†å“ç·¨é›†ï¼ˆF201-02ï¼‰               | `PUT`    | `/api/admin/products/{productId}`    |
| å•†å“å‰Šé™¤   ï¼ˆF201-03ï¼‰            | `DELETE` | `/api/admin/products/{productId}`    |
| æ³¨æ–‡ä¸€è¦§å–å¾—(F202-01)             | `GET`    | `/api/admin/orders`                  |
| æ³¨æ–‡è©³ç´°å–å¾—(F202-02)             | `GET`    | `/api/admin/orders/{orderId}`        |
| æ³¨æ–‡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°(F202-03)          | `PUT`    | `/api/admin/orders/{orderId}/status` |
| åœ¨åº«ä¸€è¦§ç¢ºèª (F203)            | `GET`    | `/api/admin/stock`                   |

## 5.2 APIè©³ç´° 

### 5.2.1 ğŸ‘¥ é¡§å®¢å‘ã‘æ©Ÿèƒ½

---

### å•†å“ä¸€è¦§è¡¨ç¤º

- **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼š`GET`  
- **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`/api/products`

#### ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| åå‰ | å‹ | å¿…é ˆ | èª¬æ˜ |
|------|----|------|------|
| page | number | ã„ã„ãˆ | ãƒšãƒ¼ã‚¸ç•ªå·ï¼ˆä¾‹: 1ï¼‰ |
| limit | number | ã„ã„ãˆ | è¡¨ç¤ºä»¶æ•°ï¼ˆä¾‹: 20ï¼‰ |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ200 OKï¼‰

```json
{
  "products": [
    {
      "id": 1,
      "name": "å•†å“A",
      "price": 1500,
      "stock": 12,
      "thumbnailUrl": "/images/productA.jpg"
    }
  ],
  "total": 100
}
```

#### ã‚¨ãƒ©ãƒ¼ï¼ˆ500ï¼‰

```json
{
  "error": "Internal server error"
}
```

---

### å•†å“è©³ç´°è¡¨ç¤º

- **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼š`GET`  
- **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`/api/products/{productId}`

#### ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| åå‰ | å‹ | èª¬æ˜ |
|------|----|------|
| productId | int | å•†å“ã®ID |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ200 OKï¼‰

```json
{
  "id": 1,
  "name": "å•†å“A",
  "description": "è©³ç´°èª¬æ˜",
  "price": 1500,
  "stock": 12,
  "images": ["/images/a1.jpg", "/images/a2.jpg"]
}
```

#### ã‚¨ãƒ©ãƒ¼ï¼ˆ404ï¼‰

```json
{
  "error": "Product not found"
}
```

---

### ã‚«ãƒ¼ãƒˆè¿½åŠ 

- **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼š`POST`  
- **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`/api/cart`

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£

```json
{
  "productId": 1,
  "quantity": 2
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ201 Createdï¼‰

```json
{
  "message": "Item added to cart",
  "cartItemId": 123
}
```

#### ã‚¨ãƒ©ãƒ¼ï¼ˆ400ï¼‰

```json
{
  "error": "Invalid quantity or product ID"
}
```

---

### ã‚«ãƒ¼ãƒˆç·¨é›†ï¼ˆæ•°é‡å¤‰æ›´ï¼‰

- **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼š`PUT`  
- **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`/api/cart/{itemId}`

#### ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| åå‰ | å‹ | èª¬æ˜ |
|------|----|------|
| itemId | int | ã‚«ãƒ¼ãƒˆå†…å•†å“ID |

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£

```json
{
  "quantity": 3
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ200 OKï¼‰

```json
{
  "message": "Quantity updated"
}
```

#### ã‚¨ãƒ©ãƒ¼ï¼ˆ404ï¼‰

```json
{
  "error": "Cart item not found"
}
```

---

### ã‚«ãƒ¼ãƒˆå‰Šé™¤

- **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼š`DELETE`  
- **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`/api/cart/{itemId}`

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ200 OKï¼‰

```json
{
  "message": "Item removed from cart"
}
```

---

### æ³¨æ–‡æƒ…å ±å…¥åŠ›ï¼ˆä»®æ³¨æ–‡ï¼‰

- **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼š`POST`  
- **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`/api/orders/confirm`

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£

```json
{
  "customer": {
    "name": "å±±ç”° å¤ªéƒ",
    "email": "taro@example.com",
    "address": "æ±äº¬éƒ½æ¸¯åŒºã€œ"
  },
  "items": [
    { "productId": 1, "quantity": 2 },
    { "productId": 3, "quantity": 1 }
  ]
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ200 OKï¼‰

```json
{
  "orderPreview": {
    "totalAmount": 5400,
    "shippingFee": 500
  }
}
```

---

### æ³¨æ–‡ç¢ºå®š

- **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼š`POST`  
- **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`/api/orders/complete`

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ï¼ˆconfirmã¨åŒæ§˜ï¼‰

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ201 Createdï¼‰

```json
{
  "orderId": 9876,
  "message": "Order completed",
  "emailSent": true
}
```

---
### 5.2.1 ğŸ”§ ç®¡ç†è€…å‘ã‘æ©Ÿèƒ½

---

### å•†å“ç™»éŒ²

- **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼š`POST`  
- **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`/api/admin/products`

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£

```json
{
  "name": "æ–°å•†å“A",
  "description": "èª¬æ˜æ–‡",
  "price": 1200,
  "stock": 50,
  "imageUrls": ["/images/a1.jpg"]
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ201 Createdï¼‰

```json
{
  "productId": 101,
  "message": "Product created"
}
```

---

### æ³¨æ–‡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°

- **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼š`PUT`  
- **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`/api/admin/orders/{orderId}/status`

#### ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| åå‰ | å‹ | èª¬æ˜ |
|------|----|------|
| orderId | int | æ³¨æ–‡ID |

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£

```json
{
  "status": "shipped"
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ200 OKï¼‰

```json
{
  "message": "Order status updated"
}
```

---

### å‚™å“CSVä¸€æ‹¬ç™»éŒ²

- **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼š`POST`  
- **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`/api/admin/products/upload-csv`

#### Content-Type

`multipart/form-data`

#### ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å | å‹ | å¿…é ˆ | èª¬æ˜ |
|--------------|----|------|------|
| file | file | ã¯ã„ | CSVãƒ•ã‚¡ã‚¤ãƒ« |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ200 OKï¼‰

```json
{
  "message": "CSV processed",
  "successCount": 24,
  "errorCount": 3,
  "errors": [
    { "line": 4, "reason": "Missing product name" }
  ]
}
```

---

### åœ¨åº«ä¸è¶³é€šçŸ¥ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

- **HTTPãƒ¡ã‚½ãƒƒãƒ‰**ï¼š`POST`  
- **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`/api/admin/stock/notify`

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£

```json
{
  "threshold": 5
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ200 OKï¼‰

```json
{
  "message": "Notification sent to administrator",
  "notifiedItems": [101, 103, 109]
}
```

### 6 DBå®šç¾©

### 6.1 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å®šç¾©

## ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©æ›¸

ä»¥ä¸‹ã¯ã€ERå›³ã¨è¨­è¨ˆæ–¹é‡ã«åŸºã¥ã„ãŸå„ãƒ†ãƒ¼ãƒ–ãƒ«ã®å®šç¾©ã‚’ç¤ºã—ã¦ã„ã‚‹ã€‚

---

### CUSTOMERï¼ˆé¡§å®¢ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
| é …ç›®å        | ãƒ‡ãƒ¼ã‚¿å‹       | ä¸»ã‚­ãƒ¼ | NOT NULL | èª¬æ˜                         |
|---------------|----------------|--------|-----------|------------------------------|
| customer_id   | VARCHAR(36)    | â—‹      | â—‹         | é¡§å®¢ã‚’ä¸€æ„ã«è­˜åˆ¥ã™ã‚‹IDï¼ˆUUIDï¼‰ |
| name          | VARCHAR(100)   |        | â—‹         | é¡§å®¢ã®åå‰                     |
| email         | VARCHAR(255)   |        | â—‹         | é¡§å®¢ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹             |
| address       | TEXT           |        | â—‹         | é¡§å®¢ã®ä½æ‰€                     |
| phone         | VARCHAR(20)    |        | â—‹         | é¡§å®¢ã®é›»è©±ç•ªå·                  |
| created_at    | DATETIME       |        | â—‹         | é¡§å®¢æƒ…å ±ã®ç™»éŒ²æ—¥æ™‚               |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: `email`ï¼ˆæ¤œç´¢ç”¨ï¼‰

---

### ADMIN_USERï¼ˆç®¡ç†è€…ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
| é …ç›®å         | ãƒ‡ãƒ¼ã‚¿å‹       | ä¸»ã‚­ãƒ¼ | NOT NULL | èª¬æ˜                                |
|----------------|----------------|--------|-----------|-------------------------------------|
| admin_id       | VARCHAR(36)    | â—‹      | â—‹         | ç®¡ç†è€…IDï¼ˆUUIDï¼‰                      |
| name           | VARCHAR(100)   |        | â—‹         | ç®¡ç†è€…ã®åå‰                          |
| email          | VARCHAR(255)   |        | â—‹         | ç®¡ç†è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹                  |
| password_hash  | VARCHAR(255)   |        | â—‹         | ãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚ŒãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰               |
| role_id        | VARCHAR(36)    |        | â—‹         | ROLEãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã®å¤–éƒ¨ã‚­ãƒ¼                 |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: `email`, `role_id`

---

### ROLEï¼ˆãƒ­ãƒ¼ãƒ«ãƒã‚¹ã‚¿ï¼‰
| é …ç›®å     | ãƒ‡ãƒ¼ã‚¿å‹       | ä¸»ã‚­ãƒ¼ | NOT NULL | èª¬æ˜                    |
|------------|----------------|--------|-----------|-------------------------|
| role_id    | VARCHAR(36)    | â—‹      | â—‹         | ãƒ­ãƒ¼ãƒ«IDï¼ˆUUIDï¼‰         |
| role_name  | VARCHAR(100)   |        | â—‹         | ãƒ­ãƒ¼ãƒ«åï¼ˆä¾‹ï¼šç®¡ç†è€…ï¼‰     |

---

### PRODUCTï¼ˆå•†å“ãƒã‚¹ã‚¿ï¼‰
| é …ç›®å        | ãƒ‡ãƒ¼ã‚¿å‹       | ä¸»ã‚­ãƒ¼ | NOT NULL | èª¬æ˜                               |
|---------------|----------------|--------|-----------|------------------------------------|
| product_id    | VARCHAR(36)    | â—‹      | â—‹         | å•†å“IDï¼ˆUUIDï¼‰                       |
| name          | VARCHAR(255)   |        | â—‹         | å•†å“å                              |
| description   | TEXT           |        |           | å•†å“èª¬æ˜                            |
| price         | INT            |        | â—‹         | å•†å“ä¾¡æ ¼ï¼ˆç¨æŠœï¼‰                     |
| material      | VARCHAR(100)   |        |           | ç´ æ                                |
| image_path    | VARCHAR(255)   |        |           | å•†å“ç”»åƒã®ä¿å­˜ãƒ‘ã‚¹ã¾ãŸã¯URL             |
| category_id   | VARCHAR(36)    |        | â—‹         | CATEGORYãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã®å¤–éƒ¨ã‚­ãƒ¼             |
| created_at    | DATETIME       |        | â—‹         | ä½œæˆæ—¥æ™‚                             |
| updated_at    | DATETIME       |        | â—‹         | æœ€çµ‚æ›´æ–°æ—¥æ™‚                          |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: `category_id`, `name`

---

### CATEGORYï¼ˆã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿ï¼‰
| é …ç›®å       | ãƒ‡ãƒ¼ã‚¿å‹       | ä¸»ã‚­ãƒ¼ | NOT NULL | èª¬æ˜              |
|--------------|----------------|--------|-----------|-------------------|
| category_id  | VARCHAR(36)    | â—‹      | â—‹         | ã‚«ãƒ†ã‚´ãƒªIDï¼ˆUUIDï¼‰  |
| name         | VARCHAR(100)   |        | â—‹         | ã‚«ãƒ†ã‚´ãƒªå          |

---

### ORDERSï¼ˆæ³¨æ–‡ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
| é …ç›®å        | ãƒ‡ãƒ¼ã‚¿å‹       | ä¸»ã‚­ãƒ¼ | NOT NULL | èª¬æ˜                            |
|---------------|----------------|--------|-----------|-------------------------------|
| order_id      | VARCHAR(36)    | â—‹      | â—‹         | æ³¨æ–‡IDï¼ˆUUIDï¼‰                  |
| customer_id   | VARCHAR(36)    |        | â—‹         | CUSTOMERãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã®å¤–éƒ¨ã‚­ãƒ¼       |
| status_id     | VARCHAR(36)    |        | â—‹         | ORDER_STATUSãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã®å¤–éƒ¨ã‚­ãƒ¼ |
| order_date    | DATETIME       |        | â—‹         | æ³¨æ–‡æ—¥                          |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: `customer_id`, `status_id`

---

### ORDER_STATUSï¼ˆæ³¨æ–‡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚¹ã‚¿ï¼‰
| é …ç›®å       | ãƒ‡ãƒ¼ã‚¿å‹       | ä¸»ã‚­ãƒ¼ | NOT NULL | èª¬æ˜                      |
|--------------|----------------|--------|-----------|---------------------------|
| status_id    | VARCHAR(36)    | â—‹      | â—‹         | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹IDï¼ˆUUIDï¼‰       |
| status_name  | VARCHAR(50)    |        | â—‹         | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åï¼ˆä¾‹ï¼šç™ºé€æ¸ˆã¿ï¼‰ |

---

### ORDER_ITEMï¼ˆæ³¨æ–‡å•†å“ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
| é …ç›®å       | ãƒ‡ãƒ¼ã‚¿å‹       | ä¸»ã‚­ãƒ¼ | NOT NULL | èª¬æ˜                                 |
|--------------|----------------|--------|-----------|--------------------------------------|
| order_id     | VARCHAR(36)    | â—‹      | â—‹         | ORDERãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã®å¤–éƒ¨ã‚­ãƒ¼              |
| product_id   | VARCHAR(36)    | â—‹      | â—‹         | PRODUCTãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã®å¤–éƒ¨ã‚­ãƒ¼            |
| quantity     | INT            |        | â—‹         | æ³¨æ–‡ã•ã‚ŒãŸå•†å“ã®æ•°é‡                    |
| unit_price   | INT            |        | â—‹         | å•†å“ã®æ³¨æ–‡æ™‚å˜ä¾¡ï¼ˆç¨æŠœï¼‰               |

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: `order_id`, `product_id`

### ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆã®ç•™æ„ç‚¹

- æ›´æ–°é »åº¦ã®é«˜ã„ã‚«ãƒ©ãƒ ã«ã¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’è¿½åŠ ã€‚

- è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆä¾‹ï¼š(customer_id, order_date)ï¼‰ã¯ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æã—ã¦ã‹ã‚‰è¨­å®šã€‚

### 6.2 ERå›³

 ### â€»åŸºæœ¬è¨­è¨ˆæ›¸ã‹ã‚‰å¤‰æ›´ãªã—
 
<div class="mermaid">
erDiagram
    CUSTOMER ||--o{ ORDER : places
    ORDER ||--|{ ORDER_ITEM : contains
    PRODUCT }o--|| CATEGORY : categorized
    ADMIN_USER }o--|| ROLE : assigned
    ADMIN_USER ||--o{ PRODUCT : manages
    ORDER }o--|| ORDER_STATUS : has
 
    CUSTOMER {
        string customer_id PK
        string name
        string email
        string address
        string phone
        datetime created_at
    }
 
    PRODUCT {
        string product_id PK
        string name
        string description
        int price
        string material
        string image_path
        string category_id FK
        datetime created_at
        datetime updated_at
    }
 
    CATEGORY {
        string category_id PK
        string name
    }
 
    ORDER {
        string order_id PK
        string customer_id FK
        string status_id FK
        datetime order_date
    }
 
    ORDER_ITEM {
        string order_id FK
        string product_id FK
        int quantity
        int unit_price
    }
 
    ADMIN_USER {
        string admin_id PK
        string name
        string email
        string password_hash
        string role_id FK
    }
 
    ROLE {
        string role_id PK
        string role_name
    }
 
    ORDER_STATUS {
        string status_id PK
        string status_name
    }
</div>

### 6.3 ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³è¨­è¨ˆ

```mermaid
flowchart TD
    A[ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é–‹å§‹] --> B[åœ¨åº«ç¢ºèª]
    B --> C{åœ¨åº«ã‚ã‚Šï¼Ÿ}
    C -- Yes --> D[åœ¨åº«æ¸›ç®—]
    D --> E[æ³¨æ–‡æƒ…å ±ä½œæˆ]
    E --> F[æ³¨æ–‡è©³ç´°ä½œæˆ]
    F --> G[æ³¨æ–‡æƒ…å ±ã‚’ä¿å­˜]
    G --> H[æ³¨æ–‡è©³ç´°ã‚’ä¿å­˜]
    H --> I[ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒŸãƒƒãƒˆ]
    C -- No --> Z[ä¾‹å¤–ç™ºç”Ÿãƒ»ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯]
```

## ãƒ•ãƒ­ãƒ¼ã®èª¬æ˜

 **ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é–‹å§‹**: æ³¨æ–‡å‡¦ç†ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒé–‹å§‹ã•ã‚Œã‚‹ã€‚
 **åœ¨åº«ç¢ºèª**: æ³¨æ–‡ã•ã‚ŒãŸå•†å“ã®åœ¨åº«ã‚’ç¢ºèªã™ã‚‹ã€‚
 **åœ¨åº«ã‚ã‚Šã‹åˆ¤å®š**: åœ¨åº«ãŒã‚ã‚‹å ´åˆã®ã¿æ¬¡ã¸é€²ã¿ã¾ã™ã€‚ãªã„å ´åˆã¯ä¾‹å¤–ã‚’æŠ•ã’ã¦ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã•ã‚Œã‚‹ã€‚
 **åœ¨åº«æ¸›ç®—**: åœ¨åº«æ•°ã‚’æ¸›ã‚‰ã™ã€‚
 **æ³¨æ–‡æƒ…å ±ä½œæˆ**: æ³¨æ–‡ã®ãƒ¡ã‚¤ãƒ³æƒ…å ±ã‚’ä½œæˆï¼ˆæ³¨æ–‡è€…ã€æ—¥ä»˜ãªã©ï¼‰ã€‚
 **æ³¨æ–‡è©³ç´°ä½œæˆ**: å„å•†å“ã”ã¨ã®æ³¨æ–‡æ˜ç´°ã‚’ä½œæˆã€‚
 **æ³¨æ–‡æƒ…å ±ä¿å­˜**: æ³¨æ–‡æƒ…å ±ã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ã€‚
 **æ³¨æ–‡è©³ç´°ä¿å­˜**: æ³¨æ–‡æ˜ç´°ã‚‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ã€‚
 **ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒŸãƒƒãƒˆ**: ã™ã¹ã¦ã®å‡¦ç†ãŒæ­£å¸¸ã«å®Œäº†ã—ãŸå ´åˆã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒç¢ºå®šã•ã‚Œã‚‹ã€‚
 **ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**: åœ¨åº«ãŒä¸è¶³ã—ã¦ã„ã‚‹ãªã©ã®ç†ç”±ã§ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸå ´åˆã€ãã‚Œã¾ã§ã®ã™ã¹ã¦ã®å‡¦ç†ã¯ã‚­ãƒ£ãƒ³ã‚»ãƒ«ï¼ˆãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰ã•ã‚Œã‚‹ã€‚



---

## 7. ç”»é¢é …ç›®å®šç¾©

### 7.1.ç”»é¢ä¸€è¦§

| ç”»é¢ID | ç”»é¢å               | æ¦‚è¦èª¬æ˜                                                                 |
|--------|----------------------|--------------------------------------------------------------------------|
| S01    | ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸         | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸéš›ã«æœ€åˆã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»é¢ã§ã€å•†å“æ¤œç´¢ã‚„ãŠã™ã™ã‚å•†å“ã®ä¸€è¦§ã‚’æä¾›ã—ã¾ã™ã€‚ |
| S02    | å•†å“ä¸€è¦§ç”»é¢         | é¸æŠã•ã‚ŒãŸã‚«ãƒ†ã‚´ãƒªã‚„æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«å¿œã˜ãŸå•†å“ã‚’ä¸€è¦§å½¢å¼ã§è¡¨ç¤ºã™ã‚‹ç”»é¢ã§ã™ã€‚              |
| S03    | å•†å“è©³ç´°ç”»é¢         | é¸æŠã—ãŸå•†å“ã®è©³ç´°æƒ…å ±ï¼ˆç”»åƒãƒ»èª¬æ˜ãƒ»ä¾¡æ ¼ãªã©ï¼‰ã‚’è¡¨ç¤ºã—ã€ã‚«ãƒ¼ãƒˆè¿½åŠ æ“ä½œã‚’è¡Œãˆã‚‹ç”»é¢ã§ã™ã€‚      |
| S04    | ã‚«ãƒ¼ãƒˆç”»é¢           | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸æŠã—ãŸå•†å“ä¸€è¦§ã‚’ç¢ºèªãƒ»ç·¨é›†ï¼ˆæ•°é‡å¤‰æ›´ã‚„å‰Šé™¤ï¼‰ã—ã€è³¼å…¥æ‰‹ç¶šãã«é€²ã‚€ãŸã‚ã®ç”»é¢ã§ã™ã€‚   |
| S05    | æ³¨æ–‡æƒ…å ±å…¥åŠ›ç”»é¢     | é¡§å®¢æƒ…å ±ï¼ˆæ°åãƒ»ä½æ‰€ãƒ»é›»è©±ç•ªå·ãªã©ï¼‰ã‚’å…¥åŠ›ã—ã€æ³¨æ–‡ã«å¿…è¦ãªæƒ…å ±ã‚’ç™»éŒ²ã™ã‚‹ç”»é¢ã§ã™ã€‚         |
| S06    | æ³¨æ–‡ç¢ºèªç”»é¢         | å…¥åŠ›æ¸ˆã¿ã®æ³¨æ–‡æƒ…å ±ã¨è³¼å…¥å†…å®¹ã‚’æœ€çµ‚ç¢ºèªã—ã€æ³¨æ–‡ç¢ºå®šæ“ä½œã‚’è¡Œã†ç”»é¢ã§ã™ã€‚                   |
| S07    | æ³¨æ–‡å®Œäº†ç”»é¢         | æ³¨æ–‡æ‰‹ç¶šããŒæ­£å¸¸ã«å®Œäº†ã—ãŸã“ã¨ã‚’é€šçŸ¥ã—ã€ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸ã®é·ç§»ã‚’ä¿ƒã™ç”»é¢ã§ã™ã€‚              |
| A01    | ç®¡ç†ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢     | ç®¡ç†è€…ãŒã‚·ã‚¹ãƒ†ãƒ ã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ãŸã‚ã®èªè¨¼æƒ…å ±ã‚’å…¥åŠ›ã™ã‚‹ç”»é¢ã§ã™ã€‚                        |
| A02    | å•†å“ç®¡ç†ç”»é¢         | ç™»éŒ²æ¸ˆã¿å•†å“ã®ä¸€è¦§ã‚’ç®¡ç†è€…ãŒç¢ºèªã—ã€ç·¨é›†ãƒ»å‰Šé™¤ãƒ»æ–°è¦è¿½åŠ ã¸é·ç§»ã§ãã‚‹ç”»é¢ã§ã™ã€‚            |
| A03    | å•†å“ç™»éŒ²ï¼ç·¨é›†ç”»é¢   | å•†å“æƒ…å ±ï¼ˆåç§°ãƒ»ã‚«ãƒ†ã‚´ãƒªãƒ»ä¾¡æ ¼ãƒ»ç”»åƒãªã©ï¼‰ã‚’æ–°è¦ç™»éŒ²ã¾ãŸã¯ç·¨é›†ã™ã‚‹ãŸã‚ã®ç®¡ç†è€…ç”¨ç”»é¢ã§ã™ã€‚   |
| A04    | æ³¨æ–‡ç®¡ç†ç”»é¢         | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®æ³¨æ–‡å±¥æ­´ã‚’ç®¡ç†è€…ãŒä¸€è¦§ã§ç¢ºèªã—ã€å„æ³¨æ–‡ã®è©³ç´°ã¸ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ç”»é¢ã§ã™ã€‚       |
| A05    | æ³¨æ–‡è©³ç´°ç”»é¢         | é¸æŠã•ã‚ŒãŸæ³¨æ–‡ã®è³¼å…¥å•†å“ãƒ»é‡‘é¡ãƒ»é¡§å®¢æƒ…å ±ãªã©ã®è©³ç´°ã‚’ç®¡ç†è€…ãŒç¢ºèªã§ãã‚‹ç”»é¢ã§ã™ã€‚           |


### 7.2.ç”»é¢é …ç›®å®šç¾©æ›¸


##### ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸(S01)
| é …ç›®å       | ãƒ©ãƒ™ãƒ«å       | UIéƒ¨å“ | ãƒ‡ãƒ¼ã‚¿å‹ | å…¥åŠ› | åˆæœŸå€¤ | ã‚µã‚¤ã‚º | æ–‡å­—ç¨® | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ« | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸       |
|--------------|----------------|--------|----------|------|--------|--------|--------|----------------------|------------------------|
| ãƒ¡ã‚¤ãƒ³ãƒãƒŠãƒ¼ |                | ç”»åƒ   | ãƒ‘ã‚¹     | Ã—    | -      | -      | åŠè§’è‹±æ•° | å­˜åœ¨ç¢ºèª              | ãƒãƒŠãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ |
| å•†å“æ¤œç´¢æ¬„   | ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | â—‹    | -      | 50     | å…¨è§’/åŠè§’ | æ–‡å­—æ•°åˆ¶é™ã‚ã‚Š         | å…¥åŠ›ãŒé•·ã™ãã¾ã™       |
| æ¤œç´¢ãƒœã‚¿ãƒ³   | æ¤œç´¢           | ãƒœã‚¿ãƒ³  | -       | â—‹    | -      | -      | -      | ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ      | æ¤œç´¢ã«å¤±æ•—ã—ã¾ã—ãŸ     |

##### å•†å“ä¸€è¦§ç”»é¢(S02)

| é …ç›®å          | ãƒ©ãƒ™ãƒ«å        | UIéƒ¨å“ | ãƒ‡ãƒ¼ã‚¿å‹      | å…¥åŠ› | åˆæœŸå€¤ | ã‚µã‚¤ã‚º | æ–‡å­—ç¨®     | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ« | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸       |
|-----------------|-----------------|--------|---------------|------|--------|--------|------------|----------------------|------------------------|
| å•†å“ç”»åƒ        |                 | ç”»åƒ   | æ–‡å­—åˆ—ï¼ˆãƒ‘ã‚¹ï¼‰ | Ã—    | -      | -      | åŠè§’è‹±æ•°   | å­˜åœ¨ç¢ºèª              | ç”»åƒãŒè¡¨ç¤ºã§ãã¾ã›ã‚“    |
| å•†å“å          | å•†å“å          | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ—       | Ã—    | -      | 50     | å…¨è§’/åŠè§’  | -                    | -                      |
| ä¾¡æ ¼            | ä¾¡æ ¼ï¼ˆç¨è¾¼ï¼‰    | ãƒ†ã‚­ã‚¹ãƒˆ | æ•°å€¤         | Ã—    | -      | 10     | åŠè§’æ•°å­—   | æ•°å€¤ãƒã‚§ãƒƒã‚¯          | ä¾¡æ ¼ãŒä¸æ­£ã§ã™         |
| ã‚«ãƒ¼ãƒˆè¿½åŠ ãƒœã‚¿ãƒ³ | ã‚«ãƒ¼ãƒˆã«è¿½åŠ     | ãƒœã‚¿ãƒ³  | ãªã—          | â—‹    | -      | -      | -          | ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ      | è¿½åŠ ã«å¤±æ•—ã—ã¾ã—ãŸ      |

##### å•†å“è©³ç´°ç”»é¢(S03)

| é …ç›®å     | ãƒ©ãƒ™ãƒ«å     | UIéƒ¨å“   | ãƒ‡ãƒ¼ã‚¿å‹  | å…¥åŠ› | åˆæœŸå€¤ | ã‚µã‚¤ã‚º | æ–‡å­—ç¨®   | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ« | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸         |
|------------|--------------|----------|----------|------|--------|--------|----------|----------------------|--------------------------|
| å•†å“ç”»åƒ    |              | ç”»åƒ     | ãƒ‘ã‚¹      | Ã—    | -      | -      | åŠè§’è‹±æ•° | å­˜åœ¨ç¢ºèª              | å•†å“ç”»åƒãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ |
| å•†å“å      | å•†å“å       | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ—   | Ã—    | -      | 50     | å…¨è§’/åŠè§’| -                    | -                        |
| å•†å“èª¬æ˜    | èª¬æ˜         | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ—   | Ã—    | -      | 300    | å…¨è§’     | -                    | -                        |
| ç´ æ        | ç´ æ         | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ—   | Ã—    | -      | 100    | å…¨è§’     | -                    | -                        |
| ã‚«ãƒ¼ãƒˆè¿½åŠ ãƒœã‚¿ãƒ³ | ã‚«ãƒ¼ãƒˆã«è¿½åŠ  | ãƒœã‚¿ãƒ³  | -        | â—‹    | -      | -      | -        | -                    | è¿½åŠ ã«å¤±æ•—ã—ã¾ã—ãŸ        |

##### ã‚«ãƒ¼ãƒˆç”»é¢(S04)

| é …ç›®å     | ãƒ©ãƒ™ãƒ«å   | UIéƒ¨å“ | ãƒ‡ãƒ¼ã‚¿å‹ | å…¥åŠ› | åˆæœŸå€¤ | ã‚µã‚¤ã‚º | æ–‡å­—ç¨® | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ« | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸            |
|------------|------------|--------|----------|------|--------|--------|--------|----------------------|-----------------------------|
| å•†å“å      | å•†å“å     | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | Ã—    | -      | 50     | å…¨è§’   | -                    | -                           |
| æ•°é‡        | æ•°é‡       | æ•°å€¤å…¥åŠ› | æ•°å€¤   | â—‹    | 1      | 3      | åŠè§’æ•°å­— | æ•°å€¤ãƒã‚§ãƒƒã‚¯           | æ•°é‡ãŒä¸æ­£ã§ã™             |
| å‰Šé™¤ãƒœã‚¿ãƒ³   | å‰Šé™¤       | ãƒœã‚¿ãƒ³  | -       | â—‹    | -      | -      | -      | ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ      | å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ         |
| åˆè¨ˆé‡‘é¡    | åˆè¨ˆ       | ãƒ†ã‚­ã‚¹ãƒˆ | æ•°å€¤   | Ã—    | -      | 10     | åŠè§’æ•°å­— | -                    | -                           |
| æ³¨æ–‡æ‰‹ç¶šããƒœã‚¿ãƒ³ | æ³¨æ–‡æ‰‹ç¶šã | ãƒœã‚¿ãƒ³  | -       | â—‹    | -      | -      | -      | -                    | æ‰‹ç¶šãã«é€²ã‚ã¾ã›ã‚“ã§ã—ãŸ |

##### æ³¨æ–‡æƒ…å ±å…¥åŠ›ç”»é¢(S05)

| é …ç›®å     | ãƒ©ãƒ™ãƒ«å     | UIéƒ¨å“ | ãƒ‡ãƒ¼ã‚¿å‹ | å…¥åŠ› | åˆæœŸå€¤ | ã‚µã‚¤ã‚º | æ–‡å­—ç¨® | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«   | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸       |
|------------|--------------|--------|----------|------|--------|--------|--------|------------------------|--------------------------|
| æ°å        | æ°å         | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | â—‹    | -      | 30     | å…¨è§’   | å¿…é ˆ                    | æ°åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„     |
| ä½æ‰€        | é…é€å…ˆä½æ‰€   | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | â—‹    | -      | 100    | å…¨è§’   | å¿…é ˆ                    | ä½æ‰€ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„     |
| é›»è©±ç•ªå·     | é›»è©±ç•ªå·     | ãƒ†ã‚­ã‚¹ãƒˆ | æ•°å€¤   | â—‹    | -      | 15     | åŠè§’æ•°å­— | é›»è©±ç•ªå·å½¢å¼ãƒã‚§ãƒƒã‚¯     | æ­£ã—ã„é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ |

##### æ³¨æ–‡ç¢ºèªç”»é¢(S06)

| é …ç›®å     | ãƒ©ãƒ™ãƒ«å   | UIéƒ¨å“ | ãƒ‡ãƒ¼ã‚¿å‹ | å…¥åŠ› | åˆæœŸå€¤ | ã‚µã‚¤ã‚º | æ–‡å­—ç¨® | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ« | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸          |
|------------|------------|--------|----------|------|--------|--------|--------|----------------------|---------------------------|
| æ°å        | æ°å       | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | Ã—    | -      | 30     | å…¨è§’   | -                    | -                         |
| ä½æ‰€        | é…é€å…ˆä½æ‰€ | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | Ã—    | -      | 100    | å…¨è§’   | -                    | -                         |
| é›»è©±ç•ªå·     | é›»è©±ç•ªå·   | ãƒ†ã‚­ã‚¹ãƒˆ | æ•°å€¤   | Ã—    | -      | 15     | åŠè§’æ•°å­— | é›»è©±ç•ªå·å½¢å¼ãƒã‚§ãƒƒã‚¯   | é›»è©±ç•ªå·ãŒä¸æ­£ã§ã™        |
| åˆè¨ˆé‡‘é¡    | åˆè¨ˆé‡‘é¡   | ãƒ†ã‚­ã‚¹ãƒˆ | æ•°å€¤   | Ã—    | -      | 10     | åŠè§’æ•°å­— | -                    | -                         |
| æ³¨æ–‡ç¢ºå®šãƒœã‚¿ãƒ³ | æ³¨æ–‡ç¢ºå®š | ãƒœã‚¿ãƒ³  | -       | â—‹    | -      | -      | -      | -                    | ç¢ºå®šã§ãã¾ã›ã‚“ã§ã—ãŸ      |

##### æ³¨æ–‡å®Œäº†ç”»é¢(S07)

| é …ç›®å         | ãƒ©ãƒ™ãƒ«å       | UIéƒ¨å“ | ãƒ‡ãƒ¼ã‚¿å‹ | å…¥åŠ› | åˆæœŸå€¤ | ã‚µã‚¤ã‚º | æ–‡å­—ç¨® | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ« | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸     |
|----------------|----------------|--------|----------|------|--------|--------|--------|----------------------|----------------------|
| å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸  | æ³¨æ–‡ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | Ã—    | -      | -      | å…¨è§’   | -                    | -                    |
| ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³ | ãƒˆãƒƒãƒ—ã¸       | ãƒœã‚¿ãƒ³  | -        | â—‹    | -      | -      | -      | -                    | -                    |

##### ç®¡ç†ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢(A01)

| é …ç›®å     | ãƒ©ãƒ™ãƒ«å   | UIéƒ¨å“ | ãƒ‡ãƒ¼ã‚¿å‹ | å…¥åŠ› | åˆæœŸå€¤ | ã‚µã‚¤ã‚º | æ–‡å­—ç¨® | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ« | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸         |
|------------|------------|--------|----------|------|--------|--------|--------|----------------------|--------------------------|
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ID  | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | â—‹    | -      | 30     | åŠè§’   | å¿…é ˆ                  | ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ |
| ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰  | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ | æ–‡å­—åˆ— | â—‹    | -      | 30     | åŠè§’   | å¿…é ˆ                  | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ |
| ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ | ãƒ­ã‚°ã‚¤ãƒ³   | ãƒœã‚¿ãƒ³  | -        | â—‹    | -      | -      | -      | -                    | ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸ      |

##### å•†å“ç®¡ç†ç”»é¢(A02)

| é …ç›®å     | ãƒ©ãƒ™ãƒ«å     | UIéƒ¨å“ | ãƒ‡ãƒ¼ã‚¿å‹ | å…¥åŠ› | åˆæœŸå€¤ | ã‚µã‚¤ã‚º | æ–‡å­—ç¨® | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ« | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸      |
|------------|--------------|--------|----------|------|--------|--------|--------|----------------------|-------------------------|
| å•†å“å      | å•†å“å       | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | Ã—    | -      | 50     | å…¨è§’   | -                    | -                       |
| ã‚«ãƒ†ã‚´ãƒª    | ã‚«ãƒ†ã‚´ãƒª     | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | Ã—    | -      | 30     | å…¨è§’   | -                    | -                       |
| ç·¨é›†ãƒœã‚¿ãƒ³   | ç·¨é›†         | ãƒœã‚¿ãƒ³  | -       | â—‹    | -      | -      | -      | -                    | ç·¨é›†ã«å¤±æ•—ã—ã¾ã—ãŸ     |
| å‰Šé™¤ãƒœã‚¿ãƒ³   | å‰Šé™¤         | ãƒœã‚¿ãƒ³  | -       | â—‹    | -      | -      | -      | -                    | å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ     |

##### å•†å“ç™»éŒ²ï¼ç·¨é›†ç”»é¢(A03)

| é …ç›®å     | ãƒ©ãƒ™ãƒ«å     | UIéƒ¨å“ | ãƒ‡ãƒ¼ã‚¿å‹ | å…¥åŠ› | åˆæœŸå€¤ | ã‚µã‚¤ã‚º | æ–‡å­—ç¨® | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ« | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸        |
|------------|--------------|--------|----------|------|--------|--------|--------|----------------------|-------------------------|
| å•†å“å      | å•†å“å       | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | â—‹    | -      | 50     | å…¨è§’   | å¿…é ˆ                  | å•†å“åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ |
| ã‚«ãƒ†ã‚´ãƒª    | ã‚«ãƒ†ã‚´ãƒª     | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | â—‹    | -      | 30     | å…¨è§’   | å¿…é ˆ                  | ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ |
| ä¾¡æ ¼        | ä¾¡æ ¼         | æ•°å€¤å…¥åŠ› | æ•°å€¤   | â—‹    | -      | 10     | åŠè§’   | æ•°å€¤ãƒã‚§ãƒƒã‚¯           | ä¾¡æ ¼ãŒä¸æ­£ã§ã™           |
| ç”»åƒ        | å•†å“ç”»åƒ     | ãƒ•ã‚¡ã‚¤ãƒ« | ç”»åƒãƒ•ã‚¡ã‚¤ãƒ« | â—‹ | -   | -      | -      | å½¢å¼/ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯    | ç”»åƒã‚’é¸æŠã—ã¦ãã ã•ã„   |

##### æ³¨æ–‡ç®¡ç†ç”»é¢(A04)

| é …ç›®å     | ãƒ©ãƒ™ãƒ«å     | UIéƒ¨å“ | ãƒ‡ãƒ¼ã‚¿å‹ | å…¥åŠ› | åˆæœŸå€¤ | ã‚µã‚¤ã‚º | æ–‡å­—ç¨® | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ« | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸     |
|------------|--------------|--------|----------|------|--------|--------|--------|----------------------|------------------------|
| æ³¨æ–‡ID      | æ³¨æ–‡ID       | ãƒ†ã‚­ã‚¹ãƒˆ | æ•°å€¤   | Ã—    | -      | 10     | åŠè§’   | -                    | -                      |
| é¡§å®¢å      | é¡§å®¢å       | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | Ã—    | -      | 30     | å…¨è§’   | -                    | -                      |
| æ—¥ä»˜        | æ³¨æ–‡æ—¥       | ãƒ†ã‚­ã‚¹ãƒˆ | æ—¥ä»˜   | Ã—    | -      | 10     | åŠè§’   | -                    | -                      |
| è©³ç´°ãƒœã‚¿ãƒ³   | è©³ç´°         | ãƒœã‚¿ãƒ³  | -       | â—‹    | -      | -      | -      | -                    | è©³ç´°è¡¨ç¤ºã«å¤±æ•—ã—ã¾ã—ãŸ |

##### æ³¨æ–‡è©³ç´°ç”»é¢(A05)

| é …ç›®å     | ãƒ©ãƒ™ãƒ«å     | UIéƒ¨å“ | ãƒ‡ãƒ¼ã‚¿å‹ | å…¥åŠ› | åˆæœŸå€¤ | ã‚µã‚¤ã‚º | æ–‡å­—ç¨® | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ« | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸     |
|------------|--------------|--------|----------|------|--------|--------|--------|----------------------|------------------------|
| å•†å“å      | å•†å“å       | ãƒ†ã‚­ã‚¹ãƒˆ | æ–‡å­—åˆ— | Ã—    | -      | 50     | å…¨è§’   | -                    | -                      |
| æ•°é‡        | æ•°é‡         | ãƒ†ã‚­ã‚¹ãƒˆ | æ•°å€¤   | Ã—    | -      | 3      | åŠè§’   | -                    | -                      |
| å°è¨ˆ        | å°è¨ˆ         | ãƒ†ã‚­ã‚¹ãƒˆ | æ•°å€¤   | Ã—    | -      | 10     | åŠè§’   | -                    | -                      |
| åˆè¨ˆé‡‘é¡    | åˆè¨ˆé‡‘é¡     | ãƒ†ã‚­ã‚¹ãƒˆ | æ•°å€¤   | Ã—    | -      | 10     | åŠè§’   | -                    | -                      |

### 7.3.å…¥åŠ›ãƒã‚§ãƒƒã‚¯ä»•æ§˜

##### æ³¨æ–‡æƒ…å ±å…¥åŠ›ç”»é¢
| é …ç›®å     | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«                                  | å®Ÿæ–½å ´æ‰€   |
|------------|--------------------------------------------------------|------------|
| æ°å       | å¿…é ˆå…¥åŠ›ã€æœ€å¤§æ–‡å­—æ•°50æ–‡å­—ã€å…¨è§’/åŠè§’ã©ã¡ã‚‰ã‚‚è¨±å®¹     | ä¸¡æ–¹       |
| éƒµä¾¿ç•ªå·   | å¿…é ˆå…¥åŠ›ã€åŠè§’æ•°å­—7æ¡ã€æ­£è¦è¡¨ç¾ï¼š`^\d{3}-?\d{4}$`      | ä¸¡æ–¹       |
| éƒ½é“åºœçœŒ   | å¿…é ˆå…¥åŠ›ã€ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³é¸æŠåˆ¶                             | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ |
| å¸‚åŒºç”ºæ‘   | å¿…é ˆå…¥åŠ›ã€æœ€å¤§50æ–‡å­—                                   | ä¸¡æ–¹       |
| ä¸ç›®ãƒ»ç•ªåœ° | ä»»æ„å…¥åŠ›ã€æœ€å¤§100æ–‡å­—                                  | ã‚µãƒ¼ãƒãƒ¼   |
| é›»è©±ç•ªå·   | å¿…é ˆå…¥åŠ›ã€åŠè§’æ•°å­—ã€æ­£è¦è¡¨ç¾ï¼š`^\d{10,11}$`            | ä¸¡æ–¹       |
| ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ | å¿…é ˆå…¥åŠ›ã€å½¢å¼ãƒã‚§ãƒƒã‚¯ã€æœ€å¤§100æ–‡å­—ã€RFCç°¡æ˜“æº–æ‹     | ä¸¡æ–¹       |
| é…é€å¸Œæœ›æ—¥ | ä»»æ„å…¥åŠ›ã€éå»æ—¥ä¸å¯ã€æœªæ¥30æ—¥ä»¥å†…                     | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ |
| å‚™è€ƒæ¬„     | ä»»æ„å…¥åŠ›ã€æœ€å¤§æ–‡å­—æ•°500æ–‡å­—                             | ã‚µãƒ¼ãƒãƒ¼   |


### 7.4.å„ç”»é¢ã®è©³ç´°ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸(S01)
![alt text](image/image.png)
å•†å“ä¸€è¦§ç”»é¢(S02)
![alt text](image/image-1.png)
å•†å“è©³ç´°ç”»é¢(S03)
![alt text](image/image-3.png)
ã‚«ãƒ¼ãƒˆç”»é¢(S04)
![alt text](image/image-5.png)
æ³¨æ–‡æƒ…å ±å…¥åŠ›ç”»é¢(S05)
![alt text](image/image-6.png)
æ³¨æ–‡ç¢ºèªç”»é¢(S06)
![alt text](image/image-7.png)
æ³¨æ–‡å®Œäº†ç”»é¢(S07)
![alt text](image/image-8.png)
ç®¡ç†ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢(A01)
![alt text](image/image-9.png)
å•†å“ç®¡ç†ç”»é¢(A02)
![alt text](image/image-10.png)
å•†å“ç™»éŒ²/ç·¨é›†ç”»é¢(A03)
![alt text](image/image-11.png)
æ³¨æ–‡ç®¡ç†ç”»é¢(A04)
![alt text](image/image-12.png)
æ³¨æ–‡è©³ç´°ç”»é¢(A05)
![alt text](image/image-13.png)


### 7.5.ãƒ‡ãƒ¼ã‚¿é€£æºä»•æ§˜

| ç”»é¢å         | ã‚¤ãƒ™ãƒ³ãƒˆå             | å‘¼ã³å‡ºã—APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ              | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¾‹                                                                 | ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ä¾‹                                                                 | å‚™è€ƒ                     |
|----------------|------------------------|----------------------------------------|--------------|----------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|--------------------------|
| ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸     | åˆæœŸè¡¨ç¤º               | `/api/products`                        | `GET`        | ãªã—                                                                                   | `[ { "id": 1, "name": "å•†å“A", "price": 1200 }, ... ]`                             | ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«è¡¨ç¤ºå¯èƒ½       |
| å•†å“è©³ç´°ç”»é¢     | å•†å“ã‚¯ãƒªãƒƒã‚¯æ™‚           | `/api/products/{productId}`            | `GET`        | ãªã—ï¼ˆãƒ‘ã‚¹ã«å«ã‚€ï¼‰                                                                    | `{ "id": 123, "name": "å•†å“A", "description": "...", "price": 1200 }`             |                          |
| ã‚«ãƒ¼ãƒˆç”»é¢       | å•†å“è¿½åŠ ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯     | `/api/cart`                             | `POST`       | `{ "productId": 123, "quantity": 2 }`                                                 | `{ "message": "Item added to cart", "cartItemId": 123 }`                          |                          |
| ã‚«ãƒ¼ãƒˆç”»é¢       | æ•°é‡å¤‰æ›´               | `/api/cart/{itemId}`                   | `PUT`        | `{ "quantity": 3 }`                                                                   | `{ "message": "Quantity updated" }`                                               | `itemId`ã¯ã‚«ãƒ¼ãƒˆå†…å•†å“ID   |
| ã‚«ãƒ¼ãƒˆç”»é¢       | å•†å“å‰Šé™¤               | `/api/cart/{itemId}`                   | `DELETE`     | ãªã—                                                                                   | `{ "message": "Item removed from cart" }`                                         |                          |
| æ³¨æ–‡æƒ…å ±å…¥åŠ›ç”»é¢ | å…¥åŠ›å†…å®¹é€ä¿¡ï¼ˆä»®æ³¨æ–‡ï¼‰     | `/api/orders/confirm`                  | `POST`       | `{ "customerInfo": { "name": "å±±ç”° å¤ªéƒ", "email": "taro@example.com", "address": "...", "phoneNumber": "090..." }, "items": [ { "productId": 1, "quantity": 2 } ] }` | `{ "orderPreview": { "totalAmount": 5400, "shippingFee": 500 } }`                 | å…¥åŠ›ç¢ºèªã®ãŸã‚ä»®è¦‹ç©å–å¾—   |
| æ³¨æ–‡ç¢ºèªç”»é¢     | æ³¨æ–‡ç¢ºå®šãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚       | `/api/orders/complete`                | `POST`       | ä¸Šè¨˜ã¨åŒã˜å½¢å¼                                                                         | `{ "orderId": 9876, "message": "Order completed", "emailSent": true }`           | ãƒ¡ãƒ¼ãƒ«é€ä¿¡å«ã‚€            |
| å•†å“ç®¡ç†ç”»é¢     | å•†å“ä¸€è¦§å–å¾—             | `/api/admin/products`                  | `GET`        | ãªã—                                                                                   | `[ { "productId": "xxx", "name": "å•†å“A", "stock": 50, ... }, ... ]`              | ç®¡ç†è€…èªè¨¼å¾Œã®ã¿           |
| å•†å“ç™»éŒ²ç”»é¢     | å•†å“è¿½åŠ                 | `/api/admin/products`                  | `POST`       | `{ "name": "å•†å“A", "description": "èª¬æ˜", "price": 1200, "stock": 50, "imageUrls": ["/images/a.jpg"] }` | `{ "productId": "xxx", "message": "Product created" }`                            |                          |
| å•†å“ç™»éŒ²ç”»é¢     | å•†å“ç·¨é›†                | `/api/admin/products/{productId}`     | `PUT`        | åŒä¸Š                                                                                  | `{ "productId": "xxx", "message": "Product updated" }`                            |                          |
| å•†å“ç®¡ç†ç”»é¢     | å•†å“å‰Šé™¤                | `/api/admin/products/{productId}`     | `DELETE`     | ãªã—                                                                                   | `{ "message": "Product deleted" }`                                                |                          |
| æ³¨æ–‡ç®¡ç†ç”»é¢     | æ³¨æ–‡ä¸€è¦§å–å¾—             | `/api/admin/orders`                    | `GET`        | ãªã— or ã‚¯ã‚¨ãƒªï¼ˆãƒšãƒ¼ã‚¸ãƒ³ã‚°ã€æ¤œç´¢æ¡ä»¶ï¼‰                                                | `[ { "orderId": "xxx", "status": "å‡¦ç†ä¸­", ... }, ... ]`                          |                          |
| æ³¨æ–‡è©³ç´°ç”»é¢     | æ³¨æ–‡é¸æŠæ™‚               | `/api/admin/orders/{orderId}`         | `GET`        | ãªã—                                                                                   | `{ "orderId": "xxx", "items": [...], "totalAmount": 12000, ... }`                 |                          |
| æ³¨æ–‡è©³ç´°ç”»é¢     | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´           | `/api/admin/orders/{orderId}/status`  | `PUT`        | `{ "status": "shipped" }`                                                             | `{ "message": "Order status updated" }`                                           | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´é€šçŸ¥ã‚‚ã‚ã‚Š   |
| ç®¡ç†ç”»é¢         | å•†å“CSVä¸€æ‹¬ç™»éŒ²           | `/api/admin/products/upload-csv`      | `POST`       | `multipart/form-data`ï¼ˆCSVãƒ•ã‚¡ã‚¤ãƒ«ï¼‰                                                  | `{ "successCount": 24, "errorCount": 3, "errors": [{ "line": 4, "reason": "..." }] }` |                          |
| ç®¡ç†ç”»é¢         | åœ¨åº«ä¸è¶³é€šçŸ¥ãƒ¡ãƒ¼ãƒ«é€ä¿¡     | `/api/admin/stock/notify`             | `POST`       | `{ "threshold": 5 }`                                                                  | `{ "message": "Notification sent", "notifiedItems": [101, 103, 109] }`           | ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½             |




---



## 8. éæ©Ÿèƒ½è¦ä»¶è©³ç´°

### 8.1. æ€§èƒ½

æœ¬ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€ä»¥ä¸‹ã®æ€§èƒ½åŸºæº–ã‚’ç›®æ¨™ã¨ã™ã‚‹ã€‚

- **ç”»é¢å¿œç­”æ™‚é–“**ï¼šå•†å“ä¸€è¦§è¡¨ç¤ºã€å•†å“è©³ç´°è¡¨ç¤ºã€ã‚«ãƒ¼ãƒˆè¡¨ç¤ºã€æ³¨æ–‡å®Œäº†ã¨ã„ã£ãŸä¸»è¦ç”»é¢ã«ãŠã‘ã‚‹å‡¦ç†å¿œç­”æ™‚é–“ã¯ã€é€šå¸¸æ™‚ã§ **2ç§’ä»¥å†…** ã‚’ç›®æ¨™ã¨ã™ã‚‹ã€‚
- **åŒæ™‚æ¥ç¶šæ•°**ï¼šåˆæœŸæ®µéšã§ã¯æƒ³å®šåŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹æ•°ã‚’ **100ã€œ200ä»¶ç¨‹åº¦** ã¨ã—ã€ã“ã®ç¯„å›²å†…ã§å®‰å®šã—ãŸã‚µãƒ¼ãƒ“ã‚¹æä¾›ãŒå¯èƒ½ãªæ§‹æˆã¨ã™ã‚‹ã€‚
- **æ‹¡å¼µæ€§é…æ…®**ï¼šä»Šå¾Œã®ã‚¢ã‚¯ã‚»ã‚¹æ•°å¢—åŠ ã«å‚™ãˆã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŠã‚ˆã³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚’æ„è­˜ã—ãŸæ§‹æˆã¨ã™ã‚‹ã€‚

**ã€è©³ç´°å®Ÿè£…æ–¹é‡ã€‘**

- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–**ï¼š
  - å•†å“ä¸€è¦§ãƒ»æ¤œç´¢æ©Ÿèƒ½ãªã©ã§ä½¿ç”¨ã•ã‚Œã‚‹ã‚«ãƒ©ãƒ ã«å¯¾ã—ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä»˜ä¸ã€‚
  - è¤‡é›‘ãªJOINã‚„ã‚µãƒ–ã‚¯ã‚¨ãƒªã¯æ¥µåŠ›é¿ã‘ã€å¯èƒ½ãªå ´åˆã¯Viewã‚„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã‚‹èª­ã¿å–ã‚Šé«˜é€ŸåŒ–ã‚’å®Ÿæ–½ã€‚
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ´»ç”¨**ï¼š
  - Redisã‚„Memcachedãªã©ã®ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã‚Šé«˜é€ŸåŒ–ã€‚
- **ç”»åƒè¡¨ç¤ºæœ€é©åŒ–**ï¼š
  - CDNï¼ˆä¾‹ï¼šCloudflareï¼‰ã‚’ä»‹ã—ã¦é…ä¿¡ã€‚
  - ã‚µã‚¤ã‚ºã®è‡ªå‹•åœ§ç¸®ã¨WebPå½¢å¼ã§ã®é…ä¿¡ã«ã‚ˆã‚Šãƒ­ãƒ¼ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã€‚
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®å·¥å¤«**ï¼š
  - Vue.jsç­‰ã®SPAãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ä¸è¦ãªãƒšãƒ¼ã‚¸å†èª­è¾¼ã‚’å‰Šæ¸›ã€‚
  - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚„Lazy Loadã‚’ç”¨ã„ã€åˆæœŸãƒ­ãƒ¼ãƒ‰ã®ãƒ‡ãƒ¼ã‚¿é‡ã‚’åˆ¶é™ã€‚
- **éåŒæœŸå‡¦ç†ã®å°å…¥**ï¼š
  - åœ¨åº«æ›´æ–°ãƒ»æ³¨æ–‡å±¥æ­´ç™»éŒ²ç­‰ã®ä¸€éƒ¨å‡¦ç†ã‚’Laravel Queuesãªã©ã§éåŒæœŸåŒ–ã€‚
- **APMãƒ„ãƒ¼ãƒ«ã®å°å…¥**ï¼š
  - New Relicã‚„Datadogãªã©ã‚’ç”¨ã„ã¦ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã‚’éšæ™‚åˆ†æå¯èƒ½ã«ã™ã‚‹ã€‚


### 8.2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

é¡§å®¢ã®å€‹äººæƒ…å ±ã‚’å–ã‚Šæ‰±ã†ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦ã€ä»¥ä¸‹ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã‚’è¬›ã˜ã‚‹ã€‚

- **é€šä¿¡ã®æš—å·åŒ–**ï¼šã™ã¹ã¦ã®Webé€šä¿¡ã¯ **HTTPSï¼ˆTLS 1.2ä»¥ä¸Šï¼‰** ã«ã‚ˆã‚Šæš—å·åŒ–ã€‚
- **å…¥åŠ›å€¤æ¤œè¨¼**ï¼šSQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã‚„XSSãªã©ã®è„†å¼±æ€§ã‚’é˜²æ­¢ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰æ¤œè¨¼ã‚’å®Ÿè£…ã€‚
- **å€‹äººæƒ…å ±ä¿è­·æ³•ã®éµå®ˆ**ï¼šé©åˆ‡ãªç¯„å›²ã§åé›†ãƒ»åˆ©ç”¨ãƒ»ä¿ç®¡ã—ã€æ³•ä»¤ã«å¾“ã£ã¦ç®¡ç†ã€‚
- **SMTPèªè¨¼æƒ…å ±ã®ç®¡ç†**ï¼šç’°å¢ƒå¤‰æ•°ãªã©ã§å®‰å…¨ã«ç®¡ç†ã—ã€ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã‚’é¿ã‘ã‚‹ã€‚

**ã€è©³ç´°å®Ÿè£…æ–¹é‡ã€‘**

- **HTTPSå¯¾å¿œ**ï¼š
  - Let's Encrypt ã¾ãŸã¯ AWS Certificate Manager ã«ã‚ˆã‚‹è¨¼æ˜æ›¸ã‚’ä½¿ç”¨ã—ã€HTTPSé€šä¿¡ã‚’è‡ªå‹•æ›´æ–°ä»˜ãã§å¸¸æ™‚é©ç”¨ã€‚
  - HTTP â†’ HTTPSãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚’å¼·åˆ¶ã€‚
- **å…¥åŠ›å€¤æ¤œè¨¼ãƒ»è„†å¼±æ€§å¯¾ç­–**ï¼š
  - Laravelã®Validationæ©Ÿèƒ½ã‚’ç”¨ã„ã¦ã‚µãƒ‹ã‚¿ã‚¤ã‚ºãƒ»ãƒãƒªãƒ‡ãƒ¼ãƒˆã€‚
  - Eloquent ORMã‚„ã‚¯ã‚¨ãƒªãƒ“ãƒ«ãƒ€ã§SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–ã€‚
  - Bladeãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è‡ªå‹•ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—æ©Ÿèƒ½ã§XSSé˜²æ­¢ã€‚
  - CSRFãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¨ãƒ•ã‚©ãƒ¼ãƒ ã«ä»˜ä¸ã€‚
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç®¡ç†ã¨èªè¨¼å¼·åŒ–**ï¼š
  - bcryptã§ã®ãƒãƒƒã‚·ãƒ¥åŒ–ä¿å­˜ã€‚
  - ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆã«ã‚ˆã‚‹ä¸æ­£ãƒ­ã‚°ã‚¤ãƒ³é˜²æ­¢ã€‚
  - ç®¡ç†è€…ç”»é¢ã«ã¯2FAå°å…¥ã‚‚æ¤œè¨ã€‚
- **SMTPæƒ…å ±ã®ç®¡ç†**ï¼š
  - `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã«SMTPèªè¨¼æƒ…å ±ã‚’æ ¼ç´ã—ã€ã‚³ãƒ¼ãƒ‰ã‹ã‚‰åˆ†é›¢ã€‚
  - ç’°å¢ƒåˆ¥ã«`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†ã‘ã¦æ¼æ´©ãƒªã‚¹ã‚¯ã‚’ä½æ¸›ã€‚
- **ãƒ­ã‚°ç®¡ç†ã¨ç›£æŸ»**ï¼š
  - Laravelã®Monologã§ãƒ­ã‚°åˆ†é¡ï¼ˆinfo, error, criticalï¼‰ã€‚
  - æ³¨æ–‡ãƒ»ç™»éŒ²ãªã©ã®é‡è¦æ“ä½œã¯æ“ä½œå†…å®¹ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãƒ»æ—¥æ™‚ã‚’è¨˜éŒ²ã€‚



### 8.3. å¯ç”¨æ€§

- **ã‚µãƒ¼ãƒ“ã‚¹ç¨¼åƒæ™‚é–“**ï¼šåŸå‰‡ã¨ã—ã¦ã€ECã‚µã‚¤ãƒˆã¯ **24æ™‚é–“365æ—¥åˆ©ç”¨å¯èƒ½** ãªã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦è¨­è¨ˆã€‚
- **éšœå®³æ™‚å¯¾å¿œ**ï¼šDBã¯ **æ—¥æ¬¡ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—** ã‚’å–å¾—ã—ã€éšœå®³æ™‚ã«å¾©æ—§å¯èƒ½ã¨ã™ã‚‹ã€‚ãƒ­ã‚°ã«ã‚ˆã‚ŠåŸå› èª¿æŸ»ã‚‚å®Ÿæ–½ã€‚
- **ã‚¯ãƒ©ã‚¦ãƒ‰åŸºç›¤ã®æ´»ç”¨**ï¼šæŸ”è»Ÿãªå¾©æ—§ãƒ»ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãŒå¯èƒ½ãªã‚¯ãƒ©ã‚¦ãƒ‰æ§‹æˆã¨ã™ã‚‹ã€‚

**ã€è©³ç´°å®Ÿè£…æ–¹é‡ã€‘**

- **ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆï¼ˆAWSï¼‰**ï¼š
  - EC2ï¼ˆAuto Scaling Groupä»˜ãï¼‰
  - RDSï¼ˆMulti-AZæ§‹æˆï¼‰
  - S3ï¼ˆç”»åƒãƒ»CSVä¿ç®¡ï¼‰
  - ALBï¼ˆApplication Load Balancerï¼‰
- **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­è¨ˆ**ï¼š
  - RDSã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’æ¯æ—¥è‡ªå‹•å–å¾—ï¼ˆ7æ—¥é–“ä¿å­˜ï¼‰
  - S3ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æœ‰åŠ¹åŒ–
- **å¯ç”¨æ€§ç›£è¦–**ï¼š
  - CloudWatchã«ã‚ˆã‚Šæ­»æ´»ç›£è¦–ã¨ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ï¼ˆãƒ¡ãƒ¼ãƒ«ãƒ»Slackï¼‰
  - ç•°å¸¸æ¤œçŸ¥æ™‚ã¯è‡ªå‹•å†èµ·å‹•ãƒ»ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼
- **ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼è¨­è¨ˆ**ï¼š
  - RDSè‡ªå‹•ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ã«ã‚ˆã‚Šã‚¹ã‚¿ãƒ³ãƒã‚¤DBã¸åˆ‡æ›¿
  - EC2ã¯Auto Scaling Groupã§è‡ªå‹•å†èµ·å‹•
- **ãƒ­ã‚°ã®é›†ä¸­ç®¡ç†**ï¼š
  - CloudWatch Logsã‚„OpenSearch Serviceã§ãƒ­ã‚°é›†ç´„
  - ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãƒ»ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ã‚¹ãƒ»ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒ™ãƒ«ã‚’è¨˜éŒ²


### 8.4. ãã®ä»–ï¼ˆä¿å®ˆæ€§ãƒ»æ‹¡å¼µæ€§ï¼‰

- **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆã®æ¡ç”¨**ï¼šæ©Ÿèƒ½è¿½åŠ ã‚’å®¹æ˜“ã«ã™ã‚‹ç–çµåˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã€‚
- **ç®¡ç†ç”»é¢ã®GUIåŒ–**ï¼šéã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚‚é‹ç”¨å¯èƒ½ãªç®¡ç†è€…æ©Ÿèƒ½ã‚’GUIã§å®Ÿè£…ã€‚
- **ãƒ­ã‚°ã¨ç›£æŸ»è¨˜éŒ²**ï¼šæ“ä½œãƒ­ã‚°ã‚’è¨˜éŒ²ã—ã€èª¿æŸ»ã‚„å†…éƒ¨çµ±åˆ¶ã«å‚™ãˆã‚‹ã€‚
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ**ï¼šå„ç«¯æœ«ã§å¿«é©ã«æ“ä½œã§ãã‚‹ã‚ˆã†ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œã€‚

**ã€è©³ç´°å®Ÿè£…æ–¹é‡ã€‘**

- **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆä¾‹**ï¼š
  - `/modules/product/`ï¼šå•†å“æ©Ÿèƒ½
  - `/modules/order/`ï¼šæ³¨æ–‡ãƒ»åœ¨åº«æ©Ÿèƒ½
  - `/modules/user/`ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½
  - APIã¨ç”»é¢ã‚’åˆ†é›¢ã—å†åˆ©ç”¨æ€§ã‚’é«˜ã‚ã‚‹ã€‚
- **ç®¡ç†ç”»é¢ã®æ§‹ç¯‰**ï¼š
  - Vue.jsã¾ãŸã¯Reactã§SPAæ§‹æˆ
  - GUIã§å•†å“ç™»éŒ²ãƒ»æ³¨æ–‡ç®¡ç†ãªã©ã‚’æ“ä½œå¯èƒ½
  - å…¥åŠ›è£œåŠ©ã‚„ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯ã‚’æ•´å‚™
- **ãƒ­ã‚°ãƒ»ç›£æŸ»è¨˜éŒ²**ï¼š
  - ä¾‹ï¼š
    - å•†å“ç™»éŒ² â†’ `{"type": "product_create", "admin_id": 101, "product_id": 1009, "timestamp": "2025-07-03T10:45:00"}`
    - æ³¨æ–‡ç¢ºå®š â†’ `{"type": "order_confirm", "user_id": 202, "order_id": 3001, "timestamp": "2025-07-03T11:05:00"}`
  - CloudWatch Logsã«é€ä¿¡ãƒ»ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ä»˜ãã§ä¿ç®¡
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ**ï¼š
  - Tailwind CSSã‚„Bootstrap 5ã‚’ä½¿ç”¨
  - ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆè¨­è¨ˆã€ä¸»è¦è§£åƒåº¦ã§ã®æ¤œè¨¼å®Ÿæ–½
  - ã‚¹ãƒ ãƒ¼ã‚ºãªã‚«ãƒ¼ãƒˆæ“ä½œãƒ»æ³¨æ–‡å‡¦ç†ã‚’å®Ÿç¾




