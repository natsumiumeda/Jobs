### 7.5.データ連携仕様

| 画面名         | イベント名             | 呼び出しAPIエンドポイント              | HTTPメソッド | リクエストパラメータ例                                                                 | レスポンスデータ例                                                                 | 備考                     |
|----------------|------------------------|----------------------------------------|--------------|----------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|--------------------------|
| トップページ     | 初期表示               | `/api/products`                        | `GET`        | なし                                                                                   | `[ { "id": 1, "name": "商品A", "price": 1200 }, ... ]`                             | カテゴリ別に表示可能       |
| 商品詳細画面     | 商品クリック時           | `/api/products/{productId}`            | `GET`        | なし（パスに含む）                                                                    | `{ "id": 123, "name": "商品A", "description": "...", "price": 1200 }`             |                          |
| カート画面       | 商品追加ボタンクリック     | `/api/cart`                             | `POST`       | `{ "productId": 123, "quantity": 2 }`                                                 | `{ "message": "Item added to cart", "cartItemId": 123 }`                          |                          |
| カート画面       | 数量変更               | `/api/cart/{itemId}`                   | `PUT`        | `{ "quantity": 3 }`                                                                   | `{ "message": "Quantity updated" }`                                               | `itemId`はカート内商品ID   |
| カート画面       | 商品削除               | `/api/cart/{itemId}`                   | `DELETE`     | なし                                                                                   | `{ "message": "Item removed from cart" }`                                         |                          |
| 注文情報入力画面 | 入力内容送信（仮注文）     | `/api/orders/confirm`                  | `POST`       | `{ "customerInfo": { "name": "山田 太郎", "email": "taro@example.com", "address": "...", "phoneNumber": "090..." }, "items": [ { "productId": 1, "quantity": 2 } ] }` | `{ "orderPreview": { "totalAmount": 5400, "shippingFee": 500 } }`                 | 入力確認のため仮見積取得   |
| 注文確認画面     | 注文確定ボタン押下時       | `/api/orders/complete`                | `POST`       | 上記と同じ形式                                                                         | `{ "orderId": 9876, "message": "Order completed", "emailSent": true }`           | メール送信含む            |
| 商品管理画面     | 商品一覧取得             | `/api/admin/products`                  | `GET`        | なし                                                                                   | `[ { "productId": "xxx", "name": "商品A", "stock": 50, ... }, ... ]`              | 管理者認証後のみ           |
| 商品登録画面     | 商品追加                | `/api/admin/products`                  | `POST`       | `{ "name": "商品A", "description": "説明", "price": 1200, "stock": 50, "imageUrls": ["/images/a.jpg"] }` | `{ "productId": "xxx", "message": "Product created" }`                            |                          |
| 商品登録画面     | 商品編集                | `/api/admin/products/{productId}`     | `PUT`        | 同上                                                                                  | `{ "productId": "xxx", "message": "Product updated" }`                            |                          |
| 商品管理画面     | 商品削除                | `/api/admin/products/{productId}`     | `DELETE`     | なし                                                                                   | `{ "message": "Product deleted" }`                                                |                          |
| 注文管理画面     | 注文一覧取得             | `/api/admin/orders`                    | `GET`        | なし or クエリ（ページング、検索条件）                                                | `[ { "orderId": "xxx", "status": "処理中", ... }, ... ]`                          |                          |
| 注文詳細画面     | 注文選択時               | `/api/admin/orders/{orderId}`         | `GET`        | なし                                                                                   | `{ "orderId": "xxx", "items": [...], "totalAmount": 12000, ... }`                 |                          |
| 注文詳細画面     | ステータス変更           | `/api/admin/orders/{orderId}/status`  | `PUT`        | `{ "status": "shipped" }`                                                             | `{ "message": "Order status updated" }`                                           | ステータス変更通知もあり   |
| 管理画面         | 商品CSV一括登録           | `/api/admin/products/upload-csv`      | `POST`       | `multipart/form-data`（CSVファイル）                                                  | `{ "successCount": 24, "errorCount": 3, "errors": [{ "line": 4, "reason": "..." }] }` |                          |
| 管理画面         | 在庫不足通知メール送信     | `/api/admin/stock/notify`             | `POST`       | `{ "threshold": 5 }`                                                                  | `{ "message": "Notification sent", "notifiedItems": [101, 103, 109] }`           | オプション機能             |




---
