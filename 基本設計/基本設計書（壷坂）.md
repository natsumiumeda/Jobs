# ECサイトシステム 基本設計書

| ドキュメントバージョン | 1.0 |
|------------------------|-----|
| 作成日                 | 2025年7月1日 |
| 作成チーム             | チームjobs |
| 承認者                 | 平本さん |
| 更新履歴               | 2025/07/01: Ver.1.0 初版作成 |

---

## 1. はじめに

### 1.1. 本書の目的

本書は、〇〇社が構築する「ECサイトシステム」の基本設計内容を定義するものである。  
要件定義書に基づき、システム構成、主要機能、画面設計、データ構造、操作フロー、非機能対策の設計方針を定め、後続工程（詳細設計・開発・テスト等）における設計指針とすることを目的とする。

### 1.2. プロジェクト概要

本プロジェクトは、〇〇社が提供するこだわりの雑貨（文房具・キッチン用品など）を、より多くの顧客に届けるためのオンライン販売チャネルの確立を目的とするものである。  
従来はSNSによる情報発信に限定され、注文は手作業対応で非効率であったが、ECサイトを構築することで、**販路拡大**・**業務効率化**・**商品訴求力の強化**を図る。

### 1.3. 前提知識
 
本書を読むにあたり、以下の知識を有していることを前提とする。
 
- 本プロジェクトの要件定義書の内容
- Webアプリケーション開発の基本的な知識 (HTTP, HTML, CSS, JavaScript)
- REST API の基本的な概念
- Java および Spring Boot フレームワークの基本的な知識
- リレーショナルデータベースの基本的な知識

---

## 2. システム概要

### 2.1. システムの目的

- オンライン販売チャネルの確立
- 商品魅力の訴求
- 顧客利便性の向上
- 業務効率化

＊詳細は、要件定義書参照

### 2.2. 対象ユーザー

| 区分   | 役割 | 利用内容 |
|--------|------|-----------|
| 顧客   | 商品購入者 | 商品閲覧、カート操作、注文手続き |
| 管理者 | 〇〇社担当者 | 商品管理、注文確認、発送準備など |

### 2.3. システム構成図

<div class="mermaid">
graph LR
    顧客端末[顧客PC/スマホ<br>（Chrome/Safariなど）] -- HTTPS --> ECサーバ[ECサイト Webサーバ]
    管理端末[管理者PC<br>（社内担当者）] -- HTTPS --> ECサーバ
    ECサーバ --> DB[(商品情報DB・注文DB)]
    ECサーバ --> ストレージ[(商品画像等ファイルストレージ)]
    ECサーバ --> メール[(メール通知サーバ)]
 
    style 顧客端末 fill:#fff8dc,stroke:#333
    style 管理端末 fill:#fff8dc,stroke:#333
    style ECサーバ fill:#cdeeff,stroke:#333,stroke-width:2px
    style DB fill:#e0ffe0,stroke:#333
    style ストレージ fill:#f9f,stroke:#333
    style メール fill:#ffe599,stroke:#333
</div>

## 3. 機能設計

### 3.1. 機能一覧

#### 顧客向け機能

- 商品一覧表示
- 商品詳細表示
- カート操作（追加・編集・削除）
- 注文情報入力
- 注文確定（完了画面／メール通知）

#### 管理者向け機能

- 商品登録・編集・削除
- 注文一覧・詳細確認・ステータス管理
- 簡易在庫確認

### 3.2. 機能構成図

<div class="mermaid">
graph TD

    A[ECサイトシステム] --> B(顧客向け機能)

    A --> C(管理者向け機能)
 
    subgraph B[顧客向け機能]

        B1[商品一覧表示]

        B2[商品詳細表示]

        B3[カート操作]

        B4[注文入力・確定]

    end
 
    subgraph C[管理者向け機能]

        C1[商品登録・編集・削除]

        C2[注文一覧・詳細確認]

        C3[簡易在庫確認]

    end
 
    style A fill:#f9f,stroke:#333,stroke-width:2px
</div>


### 3.3. 業務フロー

#### 顧客購入フロー（概要）

1. 商品一覧を閲覧
2. カートに追加
3. 注文情報を入力
4. 注文確定・メール通知

#### 管理者業務フロー（概要）

1. 商品の登録・更新
2. 顧客注文の一覧・詳細確認
3. 発送ステータスの変更

---

## 4. 画面設計

### 4.1. 画面一覧

| ID      | 名称               | 利用者  |
|---------|--------------------|---------|
| GC0101  | トップページ       | 顧客    |
| GC0201  | 商品一覧画面       | 顧客    |
| GC0202  | 商品詳細画面       | 顧客    |
| GC0301  | カート画面         | 顧客    |
| GC0401  | 注文情報入力画面   | 顧客    |
| GC0402  | 注文完了画面       | 顧客    |
| MG0101  | 管理ログイン画面   | 管理者  |
| MG0201  | 商品管理画面       | 管理者  |
| MG0202  | 商品登録／編集画面 | 管理者  |
| MG0301  | 注文管理画面       | 管理者  |
| MG0302  | 注文詳細画面       | 管理者  |

### 4.2. 画面遷移図

（Mermaid形式の遷移図は省略）

### 4.3. UI/UX基本方針

- 白を基調としたシンプルなデザイン
- レスポンシブ対応
- 少ない手数で注文完了

### 4.4. ワイヤーフレーム（例）

#### 4.4.1. 商品一覧画面（GC0201）
+----------------------------------------------------------+
| ヘッダー（ロゴ） | [ カテゴリ選択 ▼ ]  [ カート 🛒 ]       |
+----------------------------------------------------------+
| 【カテゴリ名】                                          |
| -------------------------------------------------------- |
| [商品画像]  商品名         価格（税込） [詳細を見る]     |
| [商品画像]  商品名         価格（税込） [詳細を見る]     |
| ...                                                      |
+----------------------------------------------------------+
| フッター（会社情報・プライバシーポリシー等）             |
+----------------------------------------------------------+


#### 4.4.2. 注文入力画面（GC0401）
+----------------------------------------------------------+
| ヘッダー（ロゴ）                                         |
+----------------------------------------------------------+
| ■ ご注文情報入力                                        |
| 氏名： [                   ]                             |
| 住所： [                   ]                             |
| 電話番号： [              ]                              |
| メールアドレス： [         ]                             |
| -------------------------------------------------------- |
| [注文を確定する]   [カートに戻る]                        |
+----------------------------------------------------------+




### 4.5. 画面項目定義（例）

**注文情報入力画面**

| 項目名     | 型       | 備考                   |
|------------|----------|------------------------|
| 氏名       | テキスト | 必須、最大50文字       |
| 住所       | テキスト | 必須、最大100文字      |
| 電話番号   | テキスト | ハイフン可、15文字まで |
| メールアドレス | テキスト | メール形式            |

---

## 5. データ設計

### 5.1. ER図
<div class="mermaid">
erDiagram
    CUSTOMER ||--o{ ORDER : places
    ORDER ||--|{ ORDER_ITEM : contains
    PRODUCT }o--|| CATEGORY : categorized
    ADMIN_USER }o--|| ROLE : assigned
    ADMIN_USER ||--o{ PRODUCT : manages
    ORDER }o--|| ORDER_STATUS : has
 
    CUSTOMER {
        string customer_id PK
        string name
        string email
        string address
        string phone
        datetime created_at
    }
 
    PRODUCT {
        string product_id PK
        string name
        string description
        int price
        string material
        string image_path
        string category_id FK
        datetime created_at
        datetime updated_at
    }
 
    CATEGORY {
        string category_id PK
        string name
    }
 
    ORDER {
        string order_id PK
        string customer_id FK
        string status_id FK
        datetime order_date
    }
 
    ORDER_ITEM {
        string order_id FK
        string product_id FK
        int quantity
        int unit_price
    }
 
    ADMIN_USER {
        string admin_id PK
        string name
        string email
        string password_hash
        string role_id FK
    }
 
    ROLE {
        string role_id PK
        string role_name
    }
 
    ORDER_STATUS {
        string status_id PK
        string status_name
    }
</div>

### 5.2. テーブル定義（抜粋）

- `CUSTOMER`: 顧客情報
- `PRODUCT`: 商品情報
- `CATEGORY`: 商品カテゴリ
- `ORDER`: 注文
- `ORDER_ITEM`: 注文明細
- `ADMIN_USER`: 管理者
- `ROLE`: ロール
- `ORDER_STATUS`: 注文ステータス

---

## 6. 非機能要件 対応方針

- 通信：HTTPS必須
- セキュリティ：SQLインジェクション／XSS対策
- 性能：主要画面は2秒以内応答
- 可用性：24時間365日稼働
- 拡張性：将来機能（レビュー、決済）に対応できる構成

---

## 7. 運用・保守設計

- ログ出力：アクセス／操作ログ
- 監視：死活、エラー、サーバリソース
- バックアップ：日次・週次・月次で取得、復元検証あり

---

## 8. 制約事項・前提条件

- Chrome／Edge／Safari最新版のみ公式サポート
- 初期リリースでクレカ決済・会員機能・レビュー等は対象外
- 管理者向け操作マニュアルを用意
- 公開予定：2025年6月〜7月
- 予算：XXX万円

---

## 9. 用語集・参考情報

| 用語 | 説明 |
|------|------|
| ECサイト | オンライン販売機能を持つWebサイト |
| カート機能 | 一時的に商品を保持し購入する仕組み |
| SSL/TLS | 通信暗号化プロトコル |
| XSS | クロスサイトスクリプティング攻撃 |
| SQLインジェクション | 不正SQL命令による攻撃 |

---

## 10. 承認欄

| 承認者氏名   | 所属・役職                   | 日付           | 印 |
|--------------|------------------------------|----------------|----|
| 〇〇 〇〇（甲） | 株式会社〇〇 事業企画部 部長 | 2025年MM月DD日 |    |
| △△ △△（乙） | 開発会社 プロジェクトマネージャー | 2025年MM月DD日 |    |
| □□ □□（乙） | 開発会社 システムエンジニア     | 2025年MM月DD日 |    |
