<div class="mermaid">
graph TD
    A[顧客: ECサイトへアクセス] --> B{商品を探す};
    B -- 商品発見 --> C[商品詳細を確認];
    C -- 商品を気に入る --> D{カートに入れる};
    D -- 他にも購入したい商品がある --> B;
    D -- 購入手続きへ進む --> E[注文手続き開始];
    E --> F[顧客: 配送先・連絡先を入力];
    F --> G[顧客: 注文を確定する];
    G --> H[システム: 注文情報登録・完了通知];
    H --> I[購入完了];
 </div>


<div class="mermaid">
 sequenceDiagram
    participant 顧客
    participant ECサイトシステム
    participant データベース

    顧客->>ECサイトシステム: ECサイトへアクセス
    ECサイトシステム-->>顧客: トップページ表示

    顧客->>ECサイトシステム: 商品検索/カテゴリ選択
    ECサイトシステム->>データベース: 商品情報を要求
    データベース-->>ECサイトシステム: 商品情報を返却
    ECサイトシステム-->>顧客: 商品一覧/詳細ページ表示

    alt 商品を気に入る
        顧客->>ECサイトシステム: カートへ追加
        ECサイトシステム->>データベース: カート内容を更新
        データベース-->>ECサイトシステム: 更新完了
        ECサイトシステム-->>顧客: カート内容表示
    else 他の商品を探す
        顧客->>ECサイトシステム: 商品検索/カテゴリ選択
        ECサイトシステム->>データベース: 商品情報を要求
        データベース-->>ECサイトシステム: 商品情報を返却
        ECサイトシステム-->>顧客: 商品一覧/詳細ページを再度表示
    end

    顧客->>ECサイトシステム: 購入手続きへ進む
    ECサイトシステム-->>顧客: 注文情報入力画面表示

    顧客->>ECサイトシステム: 配送先/連絡先を入力し、注文確定
    ECサイトシステム->>データベース: 注文情報を登録
    データベース-->>ECサイトシステム: 登録完了
    ECサイトシステム-->>顧客: 注文完了画面表示
    ECサイトシステム->>顧客: 注文完了メール送信 (自動)
</div>